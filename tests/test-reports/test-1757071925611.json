{
  "executionId": "test-1757071925611",
  "timestamp": "2025-09-05T11:32:05.672Z",
  "status": "failed",
  "overallSuccess": false,
  "results": {
    "backendTests": {
      "command": "npm run test:unit -- tests/api",
      "status": "completed",
      "output": "\n> herit@0.1.0 test:unit\n> NODE_ENV=test vitest run tests/api\n\n\n RUN  v3.2.4 /Users/dean/code/Herit\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Core Functionality > handles POST requests with valid authentication\nOnboarding step 0 completed for user fe90b9ba-8edb-4515-afec-5501c3d0bc78\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Core Functionality > saves step completion data correctly\nOnboarding step 1 completed for user 9d259442-cda7-4ebf-b3ae-e6c0a1d1809e\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Core Functionality > handles POST requests with valid personal info data\nReceived data: {\n  firstName: \u001b[32m'John'\u001b[39m,\n  lastName: \u001b[32m'Doe'\u001b[39m,\n  phoneNumber: \u001b[32m'+353871234567'\u001b[39m,\n  dateOfBirth: \u001b[32m'1990-01-01'\u001b[39m,\n  ppsNumber: \u001b[32m'1234567T'\u001b[39m,\n  addressLine1: \u001b[32m'123 Test Street'\u001b[39m,\n  addressLine2: \u001b[32m'Apt 4'\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  photo_url: \u001b[1mnull\u001b[22m,\n  photoMarkedForDeletion: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Core Functionality > handles final step completion\nOnboarding step 3 completed for user 03ceabba-456f-4a57-8a68-6f1f186b19ce\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Core Functionality > handles POST requests with valid personal info data\nCurrent user query result: {\n  id: \u001b[32m'dd6ca739-7370-4800-95d5-61831b39cfb1'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071935579-a9156e7b@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mtrue\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:15.579Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:15.579Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m'John Doe'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071935579-a9156e7b@example.com'\u001b[39m,\n  phone: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m'1234567T'\u001b[39m,\n  address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n  address_line_2: \u001b[32m'Apt 4'\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mtrue\u001b[39m,\n  data: {\n    name: \u001b[32m'John Doe'\u001b[39m,\n    email: \u001b[32m'test-auth-1757071935579-a9156e7b@example.com'\u001b[39m,\n    phone: \u001b[32m'+353871234567'\u001b[39m,\n    pps_number: \u001b[32m'1234567T'\u001b[39m,\n    address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n    address_line_2: \u001b[32m'Apt 4'\u001b[39m,\n    city: \u001b[32m'Dublin'\u001b[39m,\n    county: \u001b[32m'Dublin'\u001b[39m,\n    eircode: \u001b[32m'D01 X123'\u001b[39m,\n    country: \u001b[32m'Ireland'\u001b[39m,\n    date_of_birth: \u001b[32m'1990-01-01'\u001b[39m\n  }\n}\nOld data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nNew data: {\n  first_name: \u001b[32m'John'\u001b[39m,\n  last_name: \u001b[32m'Doe'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m'1234567T'\u001b[39m,\n  address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n  address_line_2: \u001b[32m'Apt 4'\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Core Functionality > handles POST requests with valid personal info data\nAbout to compare fields - oldData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nAbout to compare fields - newData: {\n  first_name: \u001b[32m'John'\u001b[39m,\n  last_name: \u001b[32m'Doe'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m'1234567T'\u001b[39m,\n  address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n  address_line_2: \u001b[32m'Apt 4'\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Error States > validates required personal info fields\nReceived data: {\n  firstName: \u001b[32m''\u001b[39m,\n  lastName: \u001b[32m''\u001b[39m,\n  phoneNumber: \u001b[32m'invalid-phone'\u001b[39m,\n  dateOfBirth: \u001b[32m'invalid-date'\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Error States > validates required personal info fields\nCurrent user query result: {\n  id: \u001b[32m'6884e1c4-a7fb-47aa-b214-484a570aff76'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071936354-dc9b41b2@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mtrue\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:16.354Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:16.354Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m''\u001b[39m,\n  email: \u001b[32m'test-auth-1757071936354-dc9b41b2@example.com'\u001b[39m,\n  phone: \u001b[32m'invalid-phone'\u001b[39m,\n  date_of_birth: \u001b[32m'invalid-date'\u001b[39m,\n  pps_number: \u001b[32m''\u001b[39m,\n  address_line_1: \u001b[32m''\u001b[39m,\n  address_line_2: \u001b[32m''\u001b[39m,\n  city: \u001b[32m''\u001b[39m,\n  county: \u001b[32m''\u001b[39m,\n  eircode: \u001b[32m''\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mfalse\u001b[39m,\n  error: ZodError: [\n    {\n      \"origin\": \"string\",\n      \"code\": \"too_small\",\n      \"minimum\": 1,\n      \"inclusive\": true,\n      \"path\": [\n        \"name\"\n      ],\n      \"message\": \"Name is required\"\n    },\n    {\n      \"origin\": \"string\",\n      \"code\": \"invalid_format\",\n      \"format\": \"regex\",\n      \"pattern\": \"/^(\\\\+353|0)[1-9]\\\\d{7,9}$/\",\n      \"path\": [\n        \"phone\"\n      ],\n      \"message\": \"Invalid Irish phone number (e.g., +353 1 234 5678)\"\n    }\n  ]\n      at new ZodError \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/zod@4.0.17/node_modules/\u001b[4mzod\u001b[24m/v4/core/core.js:30:39\u001b[90m)\u001b[39m\n      at Module.<anonymous> \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/zod@4.0.17/node_modules/\u001b[4mzod\u001b[24m/v4/core/parse.js:40:20\u001b[90m)\u001b[39m\n      at _.inst.safeParse \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/zod@4.0.17/node_modules/\u001b[4mzod\u001b[24m/v4/classic/schemas.js:30:46\u001b[90m)\u001b[39m\n      at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/personal-info/route.ts:288:49\u001b[90m)\u001b[39m\n  \u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n      at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/personal-info/personal-info.test.ts:142:24\n      at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Security > prevents data injection through step data\nOnboarding step 0 completed for user 27accb41-3273-4f1f-9c95-a3ae7b94164d\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Security > prevents OAuth email tampering\nReceived data: {\n  firstName: \u001b[32m'Test'\u001b[39m,\n  lastName: \u001b[32m'User'\u001b[39m,\n  email: \u001b[32m'hacker@evil.com'\u001b[39m,\n  phoneNumber: \u001b[32m'+353871234567'\u001b[39m,\n  dateOfBirth: \u001b[32m'1990-01-01'\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Security > prevents OAuth email tampering\nCurrent user query result: {\n  id: \u001b[32m'08c60af0-fd88-4fdc-ae14-da37ae94063f'\u001b[39m,\n  email: \u001b[32m'original-1757071936986@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mtrue\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:16.986Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:16.986Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m'Test User'\u001b[39m,\n  email: \u001b[32m'original-1757071936986@example.com'\u001b[39m,\n  phone: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m''\u001b[39m,\n  address_line_1: \u001b[32m''\u001b[39m,\n  address_line_2: \u001b[32m''\u001b[39m,\n  city: \u001b[32m''\u001b[39m,\n  county: \u001b[32m''\u001b[39m,\n  eircode: \u001b[32m''\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mtrue\u001b[39m,\n  data: {\n    name: \u001b[32m'Test User'\u001b[39m,\n    email: \u001b[32m'original-1757071936986@example.com'\u001b[39m,\n    phone: \u001b[32m'+353871234567'\u001b[39m,\n    pps_number: \u001b[32m''\u001b[39m,\n    address_line_1: \u001b[32m''\u001b[39m,\n    address_line_2: \u001b[32m''\u001b[39m,\n    city: \u001b[32m''\u001b[39m,\n    county: \u001b[32m''\u001b[39m,\n    eircode: \u001b[32m''\u001b[39m,\n    country: \u001b[32m'Ireland'\u001b[39m,\n    date_of_birth: \u001b[32m'1990-01-01'\u001b[39m\n  }\n}\nOld data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nNew data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Performance > responds within acceptable time with real authentication\nOnboarding step 1 completed for user 23365934-6bf6-4299-9b45-6b64da99af81\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Security > prevents OAuth email tampering\nAbout to compare fields - oldData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nAbout to compare fields - newData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Performance > handles concurrent requests efficiently\nOnboarding step 0 completed for user 521f2f78-c173-477d-b2a8-26f5c8d9ff76\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Performance > handles concurrent requests efficiently\nOnboarding step 1 completed for user 521f2f78-c173-477d-b2a8-26f5c8d9ff76\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Performance > handles concurrent requests efficiently\nOnboarding step 2 completed for user 521f2f78-c173-477d-b2a8-26f5c8d9ff76\n\n ✓ tests/api/assets/[id]/[id].test.ts (11 tests) 3475ms\n   ✓ /api/assets/[id] > Core Functionality > handles GET requests with valid authentication  681ms\n   ✓ /api/assets/[id] > Core Functionality > handles PUT requests with valid data  535ms\n   ✓ /api/assets/[id] > Core Functionality > handles DELETE requests with authentication  495ms\n   ✓ /api/assets/[id] > Performance > responds within acceptable time with real authentication  449ms\n   ✓ /api/assets/[id] > Database Integrity > maintains data consistency with real database operations  443ms\n   ✓ /api/assets/[id] > Integration Scenarios > integrates with authentication workflow  428ms\n   ✓ /api/assets/[id] > Compliance > meets API standards with proper authentication  434ms\n ✓ tests/api/beneficiaries/[id]/[id].test.ts (11 tests) 3493ms\n   ✓ /api/beneficiaries/[id] > Core Functionality > handles GET requests with valid authentication  682ms\n   ✓ /api/beneficiaries/[id] > Core Functionality > handles PUT requests with valid data  492ms\n   ✓ /api/beneficiaries/[id] > Core Functionality > handles DELETE requests with authentication  479ms\n   ✓ /api/beneficiaries/[id] > Performance > responds within acceptable time with real authentication  470ms\n   ✓ /api/beneficiaries/[id] > Database Integrity > maintains data consistency with real database operations  490ms\n   ✓ /api/beneficiaries/[id] > Integration Scenarios > integrates with authentication workflow  435ms\n   ✓ /api/beneficiaries/[id] > Compliance > meets API standards with proper authentication  433ms\n ✓ tests/api/rules/rules.test.ts (10 tests) 3495ms\n   ✓ /api/rules > Core Functionality > handles GET requests with valid authentication  692ms\n   ✓ /api/rules > Core Functionality > handles POST requests with valid data  556ms\n   ✓ /api/rules > Performance > responds within acceptable time with real authentication  474ms\n   ✓ /api/rules > Database Integrity > maintains data consistency with real database operations  498ms\n   ✓ /api/rules > Integration Scenarios > integrates with authentication workflow  450ms\n   ✓ /api/rules > Compliance > meets API standards with proper authentication  460ms\n   ✓ /api/rules > Edge Cases > handles malformed JSON appropriately  355ms\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Database Integrity > maintains user data consistency with real database operations\nOnboarding step 0 completed for user c52c6a0e-aa28-4664-8924-f5f73ef6efdf\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Database Integrity > creates proper audit trail for step completions\nOnboarding step 2 completed for user 13914b32-dd88-4344-9304-e41670af1705\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Core Functionality > handles POST requests with valid consent signature data\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Core Functionality > handles POST requests with valid consent signature data\nSession check: {\n  isAuthenticated: \u001b[33mtrue\u001b[39m,\n  userId: \u001b[32m'f1ec7e4d-c4ed-4bd1-bd03-7d1de96d0ee6'\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Integration Scenarios > integrates with onboarding progression workflow\nOnboarding step 0 completed for user df43a687-7e3a-4398-91fa-2abe8ab7a14f\n\n ✓ tests/api/auth/session/session.test.ts (21 tests) 4482ms\n   ✓ /api/auth/session > Core Functionality > handles GET requests with valid session  487ms\n   ✓ /api/auth/session > Core Functionality > returns user session data correctly  344ms\n   ✓ /api/auth/session > Security > prevents session fixation attacks  321ms\n   ✓ /api/auth/session > Performance > responds within acceptable time with real authentication  337ms\n   ✓ /api/auth/session > Performance > handles concurrent authenticated requests efficiently  307ms\n   ✓ /api/auth/session > Database Integrity > maintains user data consistency with real database queries  309ms\n   ✓ /api/auth/session > Integration Scenarios > integrates with onboarding status workflow  304ms\n   ✓ /api/auth/session > Compliance > meets API standards with proper authentication  309ms\n   ✓ /api/auth/session > Token Management > handles refresh token scenarios appropriately  308ms\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Database Integrity > creates proper audit trail for personal info updates\nReceived data: {\n  firstName: \u001b[32m'Updated'\u001b[39m,\n  lastName: \u001b[32m'Name'\u001b[39m,\n  phoneNumber: \u001b[32m'+353871234567'\u001b[39m,\n  dateOfBirth: \u001b[32m'1990-01-01'\u001b[39m,\n  addressLine1: \u001b[32m'123 New Street'\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Database Integrity > creates proper audit trail for personal info updates\nCurrent user query result: {\n  id: \u001b[32m'20febdfd-005e-4be6-a75c-4d7fb0f084b3'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071938982-edffd4f9@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mtrue\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:18.982Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:18.982Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m'Updated Name'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071938982-edffd4f9@example.com'\u001b[39m,\n  phone: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m''\u001b[39m,\n  address_line_1: \u001b[32m'123 New Street'\u001b[39m,\n  address_line_2: \u001b[32m''\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mtrue\u001b[39m,\n  data: {\n    name: \u001b[32m'Updated Name'\u001b[39m,\n    email: \u001b[32m'test-auth-1757071938982-edffd4f9@example.com'\u001b[39m,\n    phone: \u001b[32m'+353871234567'\u001b[39m,\n    pps_number: \u001b[32m''\u001b[39m,\n    address_line_1: \u001b[32m'123 New Street'\u001b[39m,\n    address_line_2: \u001b[32m''\u001b[39m,\n    city: \u001b[32m'Dublin'\u001b[39m,\n    county: \u001b[32m'Dublin'\u001b[39m,\n    eircode: \u001b[32m'D01 X123'\u001b[39m,\n    country: \u001b[32m'Ireland'\u001b[39m,\n    date_of_birth: \u001b[32m'1990-01-01'\u001b[39m\n  }\n}\nOld data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nNew data: {\n  first_name: \u001b[32m'Updated'\u001b[39m,\n  last_name: \u001b[32m'Name'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[32m'123 New Street'\u001b[39m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Database Integrity > creates proper audit trail for personal info updates\nAbout to compare fields - oldData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nAbout to compare fields - newData: {\n  first_name: \u001b[32m'Updated'\u001b[39m,\n  last_name: \u001b[32m'Name'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[32m'123 New Street'\u001b[39m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Error States > returns proper error for unauthenticated POST requests\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Error States > returns proper error for unauthenticated POST requests\nSession check: { isAuthenticated: \u001b[33mfalse\u001b[39m, userId: \u001b[1mnull\u001b[22m }\nAuthentication failed - no valid session\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Integration Scenarios > handles step progression through onboarding flow\nOnboarding step 1 completed for user 6670818d-ad01-4f34-8f10-93703976f6c4\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Error States > returns error for missing required fields\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Error States > returns error for missing required fields\nSession check: {\n  isAuthenticated: \u001b[33mtrue\u001b[39m,\n  userId: \u001b[32m'53c27fe9-9827-4107-aa69-9b87f256376b'\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Integration Scenarios > handles step progression through onboarding flow\nOnboarding step 2 completed for user 6670818d-ad01-4f34-8f10-93703976f6c4\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Integration Scenarios > handles step progression through onboarding flow\nOnboarding step 3 completed for user 6670818d-ad01-4f34-8f10-93703976f6c4\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Security > requires valid JWT authentication\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Security > requires valid JWT authentication\nSession check: { isAuthenticated: \u001b[33mfalse\u001b[39m, userId: \u001b[1mnull\u001b[22m }\nAuthentication failed - no valid session\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Security > validates JWT signature integrity\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Security > validates JWT signature integrity\nSession check: { isAuthenticated: \u001b[33mfalse\u001b[39m, userId: \u001b[1mnull\u001b[22m }\nAuthentication failed - no valid session\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Performance > responds within acceptable time with real authentication\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Performance > responds within acceptable time with real authentication\nSession check: {\n  isAuthenticated: \u001b[33mtrue\u001b[39m,\n  userId: \u001b[32m'9254e951-6cbd-48e1-a963-e493cd81983f'\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Compliance > meets API standards with proper authentication\nOnboarding step 1 completed for user 6091eefa-d726-4983-b920-733aff751498\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Integration Scenarios > handles complete onboarding workflow progression\nReceived data: {\n  firstName: \u001b[32m'Test'\u001b[39m,\n  lastName: \u001b[32m'User'\u001b[39m,\n  phoneNumber: \u001b[32m'+353871234567'\u001b[39m,\n  dateOfBirth: \u001b[32m'1990-01-01'\u001b[39m,\n  addressLine1: \u001b[32m'123 Test Street'\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m\n}\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Database Integrity > maintains data consistency with real database operations\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Database Integrity > maintains data consistency with real database operations\nSession check: {\n  isAuthenticated: \u001b[33mtrue\u001b[39m,\n  userId: \u001b[32m'ca31a68a-d33e-47eb-9942-d13be25c4a6d'\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Integration Scenarios > handles complete onboarding workflow progression\nCurrent user query result: {\n  id: \u001b[32m'3bf8aef1-0cd0-43e8-aee1-2bc9b285aade'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071939980-025954d3@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mfalse\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mfalse\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mfalse\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mfalse\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mfalse\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:19.980Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:19.980Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m'Test User'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071939980-025954d3@example.com'\u001b[39m,\n  phone: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m''\u001b[39m,\n  address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n  address_line_2: \u001b[32m''\u001b[39m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mtrue\u001b[39m,\n  data: {\n    name: \u001b[32m'Test User'\u001b[39m,\n    email: \u001b[32m'test-auth-1757071939980-025954d3@example.com'\u001b[39m,\n    phone: \u001b[32m'+353871234567'\u001b[39m,\n    pps_number: \u001b[32m''\u001b[39m,\n    address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n    address_line_2: \u001b[32m''\u001b[39m,\n    city: \u001b[32m'Dublin'\u001b[39m,\n    county: \u001b[32m'Dublin'\u001b[39m,\n    eircode: \u001b[32m'D01 X123'\u001b[39m,\n    country: \u001b[32m'Ireland'\u001b[39m,\n    date_of_birth: \u001b[32m'1990-01-01'\u001b[39m\n  }\n}\nOld data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mfalse\u001b[39m\n}\nNew data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Compliance > follows REST API conventions\nOnboarding step 0 completed for user ac2860ef-3887-4eb4-a7e5-07d6e2eac54b\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Integration Scenarios > handles complete onboarding workflow progression\nAbout to compare fields - oldData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mfalse\u001b[39m\n}\nAbout to compare fields - newData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[32m'123 Test Street'\u001b[39m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[32m'Dublin'\u001b[39m,\n  county: \u001b[32m'Dublin'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Integration Scenarios > integrates with authentication workflow\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Integration Scenarios > integrates with authentication workflow\nSession check: {\n  isAuthenticated: \u001b[33mtrue\u001b[39m,\n  userId: \u001b[32m'e8c84220-1372-4077-b8ef-c6c7fd6b380e'\u001b[39m\n}\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Compliance > meets API standards with proper authentication\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Compliance > meets API standards with proper authentication\nSession check: {\n  isAuthenticated: \u001b[33mtrue\u001b[39m,\n  userId: \u001b[32m'7b641782-5549-45e2-8571-0295c4d7c38b'\u001b[39m\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Edge Cases > handles null data for non-personal info steps\nOnboarding step 1 completed for user a8bb7232-b1f5-47a3-9dcb-090facccdd1a\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Compliance > validates Irish compliance requirements\nReceived data: {\n  firstName: \u001b[32m'Seán'\u001b[39m,\n  lastName: \u001b[32m'Ó Súilleabháin'\u001b[39m,\n  phoneNumber: \u001b[32m'+353871234567'\u001b[39m,\n  dateOfBirth: \u001b[32m'1990-01-01'\u001b[39m,\n  ppsNumber: \u001b[32m'1234567T'\u001b[39m,\n  addressLine1: \u001b[32m'123 Sráid na hÉireann'\u001b[39m,\n  city: \u001b[32m'Baile Átha Cliath'\u001b[39m,\n  county: \u001b[32m'Átha Cliath'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m\n}\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Edge Cases > handles malformed JSON appropriately\n=== CONSENT SIGNATURE API HIT ===\n\nstdout | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Edge Cases > handles malformed JSON appropriately\nSession check: {\n  isAuthenticated: \u001b[33mtrue\u001b[39m,\n  userId: \u001b[32m'efb589f1-ca6f-4313-93bb-0d5896ebe3a5'\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Compliance > validates Irish compliance requirements\nCurrent user query result: {\n  id: \u001b[32m'b3938c82-276f-4fbf-97b2-07a3da2f6666'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071941411-941431bc@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mtrue\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:21.411Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:21.411Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m'Seán Ó Súilleabháin'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071941411-941431bc@example.com'\u001b[39m,\n  phone: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m'1234567T'\u001b[39m,\n  address_line_1: \u001b[32m'123 Sráid na hÉireann'\u001b[39m,\n  address_line_2: \u001b[32m''\u001b[39m,\n  city: \u001b[32m'Baile Átha Cliath'\u001b[39m,\n  county: \u001b[32m'Átha Cliath'\u001b[39m,\n  eircode: \u001b[32m'D01 X123'\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mfalse\u001b[39m,\n  error: ZodError: [\n    {\n      \"code\": \"invalid_value\",\n      \"values\": [\n        \"\",\n        \"Antrim\",\n        \"Armagh\",\n        \"Carlow\",\n        \"Cavan\",\n        \"Clare\",\n        \"Cork\",\n        \"Derry\",\n        \"Donegal\",\n        \"Down\",\n        \"Dublin\",\n        \"Fermanagh\",\n        \"Galway\",\n        \"Kerry\",\n        \"Kildare\",\n        \"Kilkenny\",\n        \"Laois\",\n        \"Leitrim\",\n        \"Limerick\",\n        \"Longford\",\n        \"Louth\",\n        \"Mayo\",\n        \"Meath\",\n        \"Monaghan\",\n        \"Offaly\",\n        \"Roscommon\",\n        \"Sligo\",\n        \"Tipperary\",\n        \"Tyrone\",\n        \"Waterford\",\n        \"Westmeath\",\n        \"Wexford\",\n        \"Wicklow\"\n      ],\n      \"path\": [\n        \"county\"\n      ],\n      \"message\": \"Invalid option: expected one of \\\"\\\"|\\\"Antrim\\\"|\\\"Armagh\\\"|\\\"Carlow\\\"|\\\"Cavan\\\"|\\\"Clare\\\"|\\\"Cork\\\"|\\\"Derry\\\"|\\\"Donegal\\\"|\\\"Down\\\"|\\\"Dublin\\\"|\\\"Fermanagh\\\"|\\\"Galway\\\"|\\\"Kerry\\\"|\\\"Kildare\\\"|\\\"Kilkenny\\\"|\\\"Laois\\\"|\\\"Leitrim\\\"|\\\"Limerick\\\"|\\\"Longford\\\"|\\\"Louth\\\"|\\\"Mayo\\\"|\\\"Meath\\\"|\\\"Monaghan\\\"|\\\"Offaly\\\"|\\\"Roscommon\\\"|\\\"Sligo\\\"|\\\"Tipperary\\\"|\\\"Tyrone\\\"|\\\"Waterford\\\"|\\\"Westmeath\\\"|\\\"Wexford\\\"|\\\"Wicklow\\\"\"\n    }\n  ]\n      at new ZodError \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/zod@4.0.17/node_modules/\u001b[4mzod\u001b[24m/v4/core/core.js:30:39\u001b[90m)\u001b[39m\n      at Module.<anonymous> \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/zod@4.0.17/node_modules/\u001b[4mzod\u001b[24m/v4/core/parse.js:40:20\u001b[90m)\u001b[39m\n      at _.inst.safeParse \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/zod@4.0.17/node_modules/\u001b[4mzod\u001b[24m/v4/classic/schemas.js:30:46\u001b[90m)\u001b[39m\n      at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/personal-info/route.ts:288:49\u001b[90m)\u001b[39m\n  \u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n      at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/personal-info/personal-info.test.ts:404:24\n      at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n}\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Token Management > validates access token structure and claims\nOnboarding step 1 completed for user 524c4c4f-1797-4bd4-993d-c27ad4c378b2\n\n ✓ tests/api/beneficiaries/photo/photo.test.ts (12 tests) 3064ms\n   ✓ /api/beneficiaries/photo > Core Functionality > handles POST requests with valid file data  445ms\n   ✓ /api/beneficiaries/photo > Error States > returns error for missing file  307ms\n   ✓ /api/beneficiaries/photo > Security > validates file size limits  429ms\n   ✓ /api/beneficiaries/photo > Performance > responds within acceptable time with real authentication  308ms\n   ✓ /api/beneficiaries/photo > Database Integrity > maintains data consistency with real database operations  326ms\n   ✓ /api/beneficiaries/photo > Integration Scenarios > integrates with authentication workflow  318ms\n   ✓ /api/beneficiaries/photo > Compliance > meets API standards with proper authentication  310ms\n   ✓ /api/beneficiaries/photo > Edge Cases > handles corrupted file data appropriately  321ms\n ✓ tests/api/onboarding/consent-signature/consent-signature.test.ts (10 tests) 3066ms\n   ✓ /api/onboarding/consent-signature > Core Functionality > handles POST requests with valid consent signature data  592ms\n   ✓ /api/onboarding/consent-signature > Performance > responds within acceptable time with real authentication  444ms\n   ✓ /api/onboarding/consent-signature > Database Integrity > maintains data consistency with real database operations  461ms\n   ✓ /api/onboarding/consent-signature > Integration Scenarios > integrates with authentication workflow  505ms\n   ✓ /api/onboarding/consent-signature > Compliance > meets API standards with proper authentication  476ms\n   ✓ /api/onboarding/consent-signature > Edge Cases > handles malformed JSON appropriately  302ms\n ✓ tests/api/rules/[id]/[id].test.ts (11 tests) 3176ms\n   ✓ /api/rules/[id] > Core Functionality > handles GET requests with valid authentication  636ms\n   ✓ /api/rules/[id] > Core Functionality > handles PUT requests with valid data  577ms\n   ✓ /api/rules/[id] > Core Functionality > handles DELETE requests with authentication  496ms\n   ✓ /api/rules/[id] > Performance > responds within acceptable time with real authentication  351ms\n   ✓ /api/rules/[id] > Database Integrity > maintains data consistency with real database operations  359ms\n   ✓ /api/rules/[id] > Integration Scenarios > integrates with authentication workflow  339ms\n   ✓ /api/rules/[id] > Compliance > meets API standards with proper authentication  400ms\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Token Management > maintains session consistency across step saves\nOnboarding step 2 completed for user 60cb7b02-7d8f-4d2e-a574-5ec3c3c6ee15\n\nstdout | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Token Management > maintains session consistency across step saves\nOnboarding step 1 completed for user 60cb7b02-7d8f-4d2e-a574-5ec3c3c6ee15\n\n ✓ tests/api/onboarding/save-step/save-step.test.ts (23 tests) 7879ms\n   ✓ /api/onboarding/save-step > Core Functionality > handles POST requests with valid authentication  618ms\n   ✓ /api/onboarding/save-step > Core Functionality > saves step completion data correctly  409ms\n   ✓ /api/onboarding/save-step > Core Functionality > handles final step completion  444ms\n   ✓ /api/onboarding/save-step > Error States > validates step number range  319ms\n   ✓ /api/onboarding/save-step > Error States > validates step number type  311ms\n   ✓ /api/onboarding/save-step > Security > prevents data injection through step data  385ms\n   ✓ /api/onboarding/save-step > Performance > responds within acceptable time with real authentication  413ms\n   ✓ /api/onboarding/save-step > Performance > handles concurrent requests efficiently  519ms\n   ✓ /api/onboarding/save-step > Database Integrity > maintains user data consistency with real database operations  398ms\n   ✓ /api/onboarding/save-step > Database Integrity > creates proper audit trail for step completions  399ms\n   ✓ /api/onboarding/save-step > Integration Scenarios > integrates with onboarding progression workflow  385ms\n   ✓ /api/onboarding/save-step > Integration Scenarios > handles step progression through onboarding flow  588ms\n   ✓ /api/onboarding/save-step > Compliance > meets API standards with proper authentication  369ms\n   ✓ /api/onboarding/save-step > Compliance > follows REST API conventions  391ms\n   ✓ /api/onboarding/save-step > Edge Cases > handles requests with missing step parameter  318ms\n   ✓ /api/onboarding/save-step > Edge Cases > handles null data for non-personal info steps  372ms\n   ✓ /api/onboarding/save-step > Token Management > validates access token structure and claims  429ms\n   ✓ /api/onboarding/save-step > Token Management > maintains session consistency across step saves  514ms\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Edge Cases > handles photo deletion workflow\nReceived data: {\n  firstName: \u001b[32m'Test'\u001b[39m,\n  lastName: \u001b[32m'User'\u001b[39m,\n  phoneNumber: \u001b[32m'+353871234567'\u001b[39m,\n  dateOfBirth: \u001b[32m'1990-01-01'\u001b[39m,\n  photoMarkedForDeletion: \u001b[33mtrue\u001b[39m,\n  photo_url: \u001b[1mnull\u001b[22m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Edge Cases > handles photo deletion workflow\nCurrent user query result: {\n  id: \u001b[32m'b8933b35-252d-4e5c-b673-5cbedb5ae13d'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071942322-31fb84a0@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mtrue\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:22.322Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:22.322Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m'Test User'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071942322-31fb84a0@example.com'\u001b[39m,\n  phone: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m''\u001b[39m,\n  address_line_1: \u001b[32m''\u001b[39m,\n  address_line_2: \u001b[32m''\u001b[39m,\n  city: \u001b[32m''\u001b[39m,\n  county: \u001b[32m''\u001b[39m,\n  eircode: \u001b[32m''\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mtrue\u001b[39m,\n  data: {\n    name: \u001b[32m'Test User'\u001b[39m,\n    email: \u001b[32m'test-auth-1757071942322-31fb84a0@example.com'\u001b[39m,\n    phone: \u001b[32m'+353871234567'\u001b[39m,\n    pps_number: \u001b[32m''\u001b[39m,\n    address_line_1: \u001b[32m''\u001b[39m,\n    address_line_2: \u001b[32m''\u001b[39m,\n    city: \u001b[32m''\u001b[39m,\n    county: \u001b[32m''\u001b[39m,\n    eircode: \u001b[32m''\u001b[39m,\n    country: \u001b[32m'Ireland'\u001b[39m,\n    date_of_birth: \u001b[32m'1990-01-01'\u001b[39m\n  }\n}\nOld data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nNew data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Edge Cases > handles photo deletion workflow\nAbout to compare fields - oldData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nAbout to compare fields - newData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\n ✓ tests/api/beneficiaries/beneficiaries.test.ts (10 tests) 3143ms\n   ✓ /api/beneficiaries > Core Functionality > handles authenticated requests with real JWT tokens  639ms\n   ✓ /api/beneficiaries > Core Functionality > handles POST requests with valid data  399ms\n   ✓ /api/beneficiaries > Performance > responds within acceptable time with real authentication  425ms\n   ✓ /api/beneficiaries > Database Integrity > maintains data consistency with real database operations  401ms\n   ✓ /api/beneficiaries > Integration Scenarios > integrates with authentication workflow  402ms\n   ✓ /api/beneficiaries > Compliance > meets API standards with proper authentication  458ms\n   ✓ /api/beneficiaries > Edge Cases > handles malformed requests appropriately  411ms\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Core Functionality > handles POST requests with valid authentication\nOnboarding completion check: {\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  allStepsCompleted: \u001b[33mtrue\u001b[39m,\n  alreadyCompleted: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Core Functionality > handles POST requests with valid authentication\nMarked onboarding complete for user 8b94c588-6cfd-4a65-a656-db5afd3438ff\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Core Functionality > handles POST requests with valid data\nOnboarding completion check: {\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  allStepsCompleted: \u001b[33mtrue\u001b[39m,\n  alreadyCompleted: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Core Functionality > handles POST requests with valid data\nMarked onboarding complete for user cbc0a7bd-bba3-4795-bd39-77228f38fa3a\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Performance > responds within acceptable time with real authentication\nOnboarding completion check: {\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  allStepsCompleted: \u001b[33mtrue\u001b[39m,\n  alreadyCompleted: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Token Management > maintains session consistency across operations\nReceived data: {\n  firstName: \u001b[32m'Test'\u001b[39m,\n  lastName: \u001b[32m'User'\u001b[39m,\n  phoneNumber: \u001b[32m'+353871234567'\u001b[39m,\n  dateOfBirth: \u001b[32m'1990-01-01'\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Performance > responds within acceptable time with real authentication\nMarked onboarding complete for user f754466d-f0f2-4e8b-8a52-00c195d00c8b\n\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Token Management > maintains session consistency across operations\nCurrent user query result: {\n  id: \u001b[32m'76178580-6ba0-4331-88cd-1172715ccc35'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071944029-d274abab@example.com'\u001b[39m,\n  password_hash: \u001b[1mnull\u001b[22m,\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  onboarding_status: \u001b[32m'not_started'\u001b[39m,\n  onboarding_current_step: \u001b[32m'personal_info'\u001b[39m,\n  onboarding_completed_at: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  personal_info_completed_at: \u001b[1mnull\u001b[22m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed_at: \u001b[1mnull\u001b[22m,\n  legal_consents: \u001b[1mnull\u001b[22m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed_at: \u001b[1mnull\u001b[22m,\n  verification_session_id: \u001b[1mnull\u001b[22m,\n  verification_status: \u001b[32m'verified'\u001b[39m,\n  onboarding_completed: \u001b[33mtrue\u001b[39m,\n  auth_provider: \u001b[1mnull\u001b[22m,\n  auth_provider_id: \u001b[1mnull\u001b[22m,\n  created_at: \u001b[35m2025-09-05T11:32:24.029Z\u001b[39m,\n  updated_at: \u001b[35m2025-09-05T11:32:24.029Z\u001b[39m\n}\nValidation data: {\n  name: \u001b[32m'Test User'\u001b[39m,\n  email: \u001b[32m'test-auth-1757071944029-d274abab@example.com'\u001b[39m,\n  phone: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[32m''\u001b[39m,\n  address_line_1: \u001b[32m''\u001b[39m,\n  address_line_2: \u001b[32m''\u001b[39m,\n  city: \u001b[32m''\u001b[39m,\n  county: \u001b[32m''\u001b[39m,\n  eircode: \u001b[32m''\u001b[39m,\n  country: \u001b[32m'Ireland'\u001b[39m\n}\nValidation result: {\n  success: \u001b[33mtrue\u001b[39m,\n  data: {\n    name: \u001b[32m'Test User'\u001b[39m,\n    email: \u001b[32m'test-auth-1757071944029-d274abab@example.com'\u001b[39m,\n    phone: \u001b[32m'+353871234567'\u001b[39m,\n    pps_number: \u001b[32m''\u001b[39m,\n    address_line_1: \u001b[32m''\u001b[39m,\n    address_line_2: \u001b[32m''\u001b[39m,\n    city: \u001b[32m''\u001b[39m,\n    county: \u001b[32m''\u001b[39m,\n    eircode: \u001b[32m''\u001b[39m,\n    country: \u001b[32m'Ireland'\u001b[39m,\n    date_of_birth: \u001b[32m'1990-01-01'\u001b[39m\n  }\n}\nOld data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nNew data: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\n ✓ tests/api/assets/assets.test.ts (21 tests) 9686ms\n   ✓ /api/assets > Core Functionality > handles GET requests to retrieve user assets  816ms\n   ✓ /api/assets > Core Functionality > handles POST requests to create new assets  399ms\n   ✓ /api/assets > Error States > returns 400 for POST with missing required fields  335ms\n   ✓ /api/assets > Error States > handles database errors gracefully  367ms\n   ✓ /api/assets > Security > prevents access to other users' assets  499ms\n   ✓ /api/assets > Security > validates asset type enum values  353ms\n   ✓ /api/assets > Security > prevents XSS in asset metadata  331ms\n   ✓ /api/assets > Performance > responds within acceptable time for asset retrieval  1340ms\n   ✓ /api/assets > Performance > handles concurrent asset creation efficiently  493ms\n   ✓ /api/assets > Database Integrity > maintains asset-user relationship integrity  380ms\n   ✓ /api/assets > Database Integrity > handles asset metadata JSON storage correctly  382ms\n   ✓ /api/assets > Integration Scenarios > integrates with asset categorization system  641ms\n   ✓ /api/assets > Integration Scenarios > supports asset valuation workflow  409ms\n   ✓ /api/assets > Compliance > meets API standards for asset management  494ms\n   ✓ /api/assets > Compliance > follows REST API conventions for assets  664ms\n   ✓ /api/assets > Edge Cases > handles assets with zero value  501ms\n   ✓ /api/assets > Edge Cases > handles very long asset names  456ms\n   ✓ /api/assets > Edge Cases > handles empty asset lists gracefully  446ms\n   ✓ /api/assets > Edge Cases > handles unicode characters in asset names  377ms\nstdout | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Token Management > maintains session consistency across operations\nAbout to compare fields - oldData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[1mnull\u001b[22m,\n  date_of_birth: \u001b[1mnull\u001b[22m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\nAbout to compare fields - newData: {\n  first_name: \u001b[32m'Test'\u001b[39m,\n  last_name: \u001b[32m'User'\u001b[39m,\n  phone_number: \u001b[32m'+353871234567'\u001b[39m,\n  date_of_birth: \u001b[32m'1990-01-01'\u001b[39m,\n  pps_number: \u001b[1mnull\u001b[22m,\n  address_line_1: \u001b[1mnull\u001b[22m,\n  address_line_2: \u001b[1mnull\u001b[22m,\n  city: \u001b[1mnull\u001b[22m,\n  county: \u001b[1mnull\u001b[22m,\n  eircode: \u001b[1mnull\u001b[22m,\n  profile_photo_url: \u001b[1mnull\u001b[22m,\n  personal_info_completed: \u001b[33mtrue\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Database Integrity > maintains data consistency with real database operations\nOnboarding completion check: {\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  allStepsCompleted: \u001b[33mtrue\u001b[39m,\n  alreadyCompleted: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Database Integrity > maintains data consistency with real database operations\nMarked onboarding complete for user 58c1dd02-78b6-4b3e-af9b-da2a024e5f35\n\n ✓ tests/api/onboarding/personal-info/personal-info.test.ts (25 tests) 10079ms\n   ✓ /api/onboarding/personal-info > Core Functionality > handles GET requests with valid authentication  634ms\n   ✓ /api/onboarding/personal-info > Core Functionality > returns completion status correctly  445ms\n   ✓ /api/onboarding/personal-info > Core Functionality > handles POST requests with valid personal info data  635ms\n   ✓ /api/onboarding/personal-info > Error States > validates required personal info fields  439ms\n   ✓ /api/onboarding/personal-info > Security > prevents OAuth email tampering  573ms\n   ✓ /api/onboarding/personal-info > Performance > responds within acceptable time with real authentication  434ms\n   ✓ /api/onboarding/personal-info > Performance > handles concurrent requests efficiently  561ms\n   ✓ /api/onboarding/personal-info > Database Integrity > maintains user data consistency with real database operations  428ms\n   ✓ /api/onboarding/personal-info > Database Integrity > creates proper audit trail for personal info updates  541ms\n   ✓ /api/onboarding/personal-info > Integration Scenarios > integrates with OAuth data source tracking  457ms\n   ✓ /api/onboarding/personal-info > Integration Scenarios > handles complete onboarding workflow progression  559ms\n   ✓ /api/onboarding/personal-info > Compliance > meets API standards with proper authentication  429ms\n   ✓ /api/onboarding/personal-info > Compliance > follows REST API conventions  443ms\n   ✓ /api/onboarding/personal-info > Compliance > validates Irish compliance requirements  462ms\n   ✓ /api/onboarding/personal-info > Edge Cases > handles requests with malformed JSON  451ms\n   ✓ /api/onboarding/personal-info > Edge Cases > handles photo deletion workflow  706ms\n   ✓ /api/onboarding/personal-info > Edge Cases > handles users with incomplete profile data  526ms\n   ✓ /api/onboarding/personal-info > Token Management > validates access token structure and claims  415ms\n   ✓ /api/onboarding/personal-info > Token Management > maintains session consistency across operations  543ms\n ✓ tests/api/rules/validate-allocation/validate-allocation.test.ts (10 tests) 2440ms\n   ✓ /api/rules/validate-allocation > Core Functionality > handles GET requests with valid authentication  552ms\n   ✓ /api/rules/validate-allocation > Core Functionality > handles POST requests with valid data  417ms\n   ✓ /api/rules/validate-allocation > Database Integrity > maintains data consistency with real database operations  304ms\n   ✓ /api/rules/validate-allocation > Integration Scenarios > integrates with authentication workflow  308ms\n ✓ tests/api/onboarding/status/status.test.ts (10 tests) 2495ms\n   ✓ /api/onboarding/status > Core Functionality > handles GET requests with valid authentication  559ms\n   ✓ /api/onboarding/status > Core Functionality > returns consistent onboarding status data  370ms\n   ✓ /api/onboarding/status > Performance > responds within acceptable time with real authentication  351ms\n   ✓ /api/onboarding/status > Database Integrity > maintains data consistency with real database operations  304ms\n   ✓ /api/onboarding/status > Integration Scenarios > integrates with authentication workflow  308ms\n   ✓ /api/onboarding/status > Edge Cases > handles edge cases appropriately  313ms\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Integration Scenarios > integrates with authentication workflow\nOnboarding completion check: {\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  allStepsCompleted: \u001b[33mtrue\u001b[39m,\n  alreadyCompleted: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Integration Scenarios > integrates with authentication workflow\nMarked onboarding complete for user f3c0553a-b905-4b33-970b-92361742a7e5\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Compliance > meets API standards with proper authentication\nOnboarding completion check: {\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  allStepsCompleted: \u001b[33mtrue\u001b[39m,\n  alreadyCompleted: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Compliance > meets API standards with proper authentication\nMarked onboarding complete for user cb1b96da-eca2-4a4d-8603-d8e56ee1108f\n\n ✓ tests/api/will/will.test.ts (10 tests) 2920ms\n   ✓ /api/will > Core Functionality > handles GET requests with valid authentication  682ms\n   ✓ /api/will > Core Functionality > handles POST requests with valid data  440ms\n   ✓ /api/will > Performance > responds within acceptable time with real authentication  382ms\n   ✓ /api/will > Database Integrity > maintains data consistency with real database operations  385ms\n   ✓ /api/will > Integration Scenarios > integrates with authentication workflow  371ms\n   ✓ /api/will > Compliance > meets API standards with proper authentication  388ms\n ✓ tests/api/onboarding/verification/sync/sync.test.ts (10 tests) 2240ms\n   ✓ /api/onboarding/verification/sync > Core Functionality > handles GET requests with valid authentication  545ms\n   ✓ /api/onboarding/verification/sync > Core Functionality > handles POST requests with valid data  353ms\n   ✓ /api/onboarding/verification/sync > Performance > responds within acceptable time with real authentication  326ms\n   ✓ /api/onboarding/verification/sync > Database Integrity > maintains data consistency with real database operations  325ms\n   ✓ /api/onboarding/verification/sync > Integration Scenarios > integrates with authentication workflow  334ms\n   ✓ /api/onboarding/verification/sync > Compliance > meets API standards with proper authentication  354ms\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Edge Cases > handles completion requests gracefully regardless of body content\nOnboarding completion check: {\n  personal_info_completed: \u001b[33mtrue\u001b[39m,\n  signature_completed: \u001b[33mtrue\u001b[39m,\n  legal_consent_completed: \u001b[33mtrue\u001b[39m,\n  verification_completed: \u001b[33mtrue\u001b[39m,\n  allStepsCompleted: \u001b[33mtrue\u001b[39m,\n  alreadyCompleted: \u001b[33mfalse\u001b[39m\n}\n\nstdout | tests/api/onboarding/complete/complete.test.ts > /api/onboarding/complete > Edge Cases > handles completion requests gracefully regardless of body content\nMarked onboarding complete for user 60a055c2-b57a-4224-ba0c-ee007b66bb46\n\n ✓ tests/api/onboarding/complete/complete.test.ts (10 tests) 3021ms\n   ✓ /api/onboarding/complete > Core Functionality > handles POST requests with valid authentication  654ms\n   ✓ /api/onboarding/complete > Core Functionality > handles POST requests with valid data  380ms\n   ✓ /api/onboarding/complete > Performance > responds within acceptable time with real authentication  368ms\n   ✓ /api/onboarding/complete > Database Integrity > maintains data consistency with real database operations  368ms\n   ✓ /api/onboarding/complete > Integration Scenarios > integrates with authentication workflow  415ms\n   ✓ /api/onboarding/complete > Compliance > meets API standards with proper authentication  394ms\n   ✓ /api/onboarding/complete > Edge Cases > handles completion requests gracefully regardless of body content  434ms\n ✓ tests/api/onboarding/signature/signature.test.ts (10 tests) 2573ms\n   ✓ /api/onboarding > Core Functionality > handles authenticated requests with real JWT tokens  462ms\n   ✓ /api/onboarding > Core Functionality > handles POST requests with valid data  322ms\n   ✓ /api/onboarding > Performance > responds within acceptable time with real authentication  382ms\n   ✓ /api/onboarding > Database Integrity > maintains data consistency with real database operations  359ms\n   ✓ /api/onboarding > Integration Scenarios > integrates with authentication workflow  366ms\n   ✓ /api/onboarding > Compliance > meets API standards with proper authentication  393ms\n ✓ tests/api/onboarding/photo/photo.test.ts (10 tests) 2451ms\n   ✓ /api/onboarding > Core Functionality > handles authenticated requests with real JWT tokens  474ms\n   ✓ /api/onboarding > Core Functionality > handles POST requests with valid file data  324ms\n   ✓ /api/onboarding > Performance > responds within acceptable time with real authentication  331ms\n   ✓ /api/onboarding > Database Integrity > maintains data consistency with real database operations  317ms\n   ✓ /api/onboarding > Integration Scenarios > integrates with authentication workflow  368ms\n   ✓ /api/onboarding > Edge Cases > handles malformed file data appropriately  343ms\n ✓ tests/api/auth/refresh/refresh.test.ts (10 tests) 2325ms\n   ✓ /api/auth > Core Functionality > handles authenticated requests with real JWT tokens  424ms\n   ✓ /api/auth > Core Functionality > handles POST requests with valid data  311ms\n   ✓ /api/auth > Performance > responds within acceptable time with real authentication  309ms\n   ✓ /api/auth > Database Integrity > maintains data consistency with real database operations  313ms\n   ✓ /api/auth > Integration Scenarios > integrates with authentication workflow  322ms\n   ✓ /api/auth > Compliance > meets API standards with proper authentication  301ms\n   ✓ /api/auth > Edge Cases > handles malformed requests appropriately  343ms\n ✓ tests/api/onboarding/legal-consent/legal-consent.test.ts (10 tests) 2605ms\n   ✓ /api/onboarding/legal-consent > Core Functionality > handles authenticated requests with real JWT tokens  473ms\n   ✓ /api/onboarding/legal-consent > Core Functionality > handles POST requests with valid data  359ms\n   ✓ /api/onboarding/legal-consent > Performance > responds within acceptable time with real authentication  364ms\n   ✓ /api/onboarding/legal-consent > Database Integrity > maintains data consistency with real database operations  400ms\n   ✓ /api/onboarding/legal-consent > Integration Scenarios > integrates with authentication workflow  334ms\n   ✓ /api/onboarding/legal-consent > Compliance > meets API standards with proper authentication  375ms\n ✓ tests/api/beneficiaries/count/count.test.ts (10 tests) 2483ms\n   ✓ /api/beneficiaries/count > Core Functionality > handles GET requests with valid authentication  503ms\n   ✓ /api/beneficiaries/count > Core Functionality > returns consistent response format  414ms\n   ✓ /api/beneficiaries/count > Performance > responds within acceptable time with real authentication  379ms\n   ✓ /api/beneficiaries/count > Database Integrity > maintains data consistency with real database operations  397ms\n   ✓ /api/beneficiaries/count > Integration Scenarios > integrates with authentication workflow  392ms\n   ✓ /api/beneficiaries/count > Compliance > meets API standards with proper authentication  389ms\n ✓ tests/api/audit/log-event/log-event.test.ts (9 tests) 2360ms\n   ✓ /api/audit/log-event > Core Functionality > handles POST requests with valid data  516ms\n   ✓ /api/audit/log-event > Performance > responds within acceptable time with real authentication  362ms\n   ✓ /api/audit/log-event > Database Integrity > maintains data consistency with real database operations  347ms\n   ✓ /api/audit/log-event > Integration Scenarios > integrates with authentication workflow  335ms\n   ✓ /api/audit/log-event > Compliance > meets API standards with proper authentication  365ms\n   ✓ /api/audit/log-event > Edge Cases > handles malformed JSON appropriately  311ms\n ✓ tests/api/auth/create-test-user/create-test-user.test.ts (10 tests) 2912ms\n   ✓ /api/auth/create-test-user > Core Functionality > handles GET requests with valid authentication  481ms\n   ✓ /api/auth/create-test-user > Core Functionality > handles POST requests with valid data  424ms\n   ✓ /api/auth/create-test-user > Performance > responds within acceptable time with real authentication  346ms\n   ✓ /api/auth/create-test-user > Database Integrity > maintains data consistency with real database operations  404ms\n   ✓ /api/auth/create-test-user > Integration Scenarios > integrates with authentication workflow  356ms\n   ✓ /api/auth/create-test-user > Compliance > meets API standards with proper authentication  369ms\n   ✓ /api/auth/create-test-user > Edge Cases > handles malformed JSON gracefully with fallback  347ms\nstdout | tests/api/auth/login/login.test.ts > /api/auth > Core Functionality > handles POST requests with valid data\nCreating test user for login testing: login-test-1757071948961@example.com\n\nstdout | tests/api/auth/login/login.test.ts > /api/auth > Core Functionality > handles POST requests with valid data\nUsing fallback hash for test user: login-test-1757071948961@example.com\n\nstdout | tests/api/auth/login/login.test.ts > /api/auth > Core Functionality > handles POST requests with valid data\nCreated test user for login: login-test-1757071948961@example.com (f94206cd-0b88-4699-98bc-1ce18d896805)\n\n ✓ tests/api/will/status/status.test.ts (10 tests) 2751ms\n   ✓ /api/will/status > Core Functionality > handles GET requests with valid authentication  535ms\n   ✓ /api/will/status > Core Functionality > handles POST requests with valid data  379ms\n   ✓ /api/will/status > Performance > responds within acceptable time with real authentication  365ms\n   ✓ /api/will/status > Database Integrity > maintains data consistency with real database operations  379ms\n   ✓ /api/will/status > Integration Scenarios > integrates with authentication workflow  379ms\n   ✓ /api/will/status > Compliance > meets API standards with proper authentication  415ms\n ✓ tests/api/debug/verification/verification.test.ts (10 tests) 2462ms\n   ✓ /api/debug/verification > Core Functionality > handles GET requests with valid authentication  468ms\n   ✓ /api/debug/verification > Core Functionality > returns comprehensive verification data  316ms\n   ✓ /api/debug/verification > Performance > responds within acceptable time with real authentication  316ms\n   ✓ /api/debug/verification > Database Integrity > maintains data consistency with real database operations  340ms\n   ✓ /api/debug/verification > Integration Scenarios > integrates with authentication workflow  350ms\n   ✓ /api/debug/verification > Compliance > meets API standards with proper authentication  347ms\n   ✓ /api/debug/verification > Edge Cases > handles invalid query parameters appropriately  321ms\n ✓ tests/api/auth/login/login.test.ts (10 tests) 2101ms\n   ✓ /api/auth > Core Functionality > handles authenticated requests with real JWT tokens  420ms\n   ✓ /api/auth > Database Integrity > maintains data consistency with real database operations  315ms\n   ✓ /api/auth > Integration Scenarios > integrates with authentication workflow  325ms\n   ✓ /api/auth > Compliance > meets API standards with proper authentication  316ms\n   ✓ /api/auth > Edge Cases > handles malformed requests appropriately  326ms\n ✓ tests/api/onboarding/verification/verification.test.ts (10 tests) 2456ms\n   ✓ /api/onboarding > Core Functionality > handles authenticated requests with real JWT tokens  451ms\n   ✓ /api/onboarding > Performance > responds within acceptable time with real authentication  330ms\n   ✓ /api/onboarding > Database Integrity > maintains data consistency with real database operations  347ms\n   ✓ /api/onboarding > Integration Scenarios > integrates with authentication workflow  385ms\n   ✓ /api/onboarding > Compliance > meets API standards with proper authentication  363ms\n   ✓ /api/onboarding > Edge Cases > handles malformed requests appropriately  311ms\n ✓ tests/api/auth/register/register.test.ts (10 tests) 2056ms\n   ✓ /api/auth > Core Functionality > handles authenticated requests with real JWT tokens  437ms\n   ✓ /api/auth > Database Integrity > maintains data consistency with real database operations  323ms\n   ✓ /api/auth > Integration Scenarios > integrates with authentication workflow  318ms\n   ✓ /api/auth > Compliance > meets API standards with proper authentication  309ms\n ✓ tests/api/debug-user/debug-user.test.ts (10 tests) 2019ms\n   ✓ /api/debug-user > Core Functionality > handles GET requests with valid authentication  421ms\n   ✓ /api/debug-user > Performance > responds within acceptable time with real authentication  340ms\n   ✓ /api/debug-user > Database Integrity > maintains data consistency with real database operations  317ms\n   ✓ /api/debug-user > Integration Scenarios > integrates with authentication workflow  308ms\n   ✓ /api/debug-user > Compliance > meets API standards with proper authentication  309ms\n   ✓ /api/debug-user > Edge Cases > handles malformed JSON appropriately  315ms\n ✓ tests/api/auth/google/callback/callback.test.ts (10 tests) 2109ms\n   ✓ /api/auth/google/callback > Performance > responds within acceptable time with real authentication  422ms\n   ✓ /api/auth/google/callback > Database Integrity > maintains data consistency with real database operations  392ms\n   ✓ /api/auth/google/callback > Integration Scenarios > integrates with authentication workflow  354ms\n   ✓ /api/auth/google/callback > Compliance > meets API standards with proper authentication  391ms\n ✓ tests/api/auth/logout/logout.test.ts (9 tests) 2029ms\n   ✓ /api/auth/logout > Core Functionality > handles POST requests with valid data  426ms\n   ✓ /api/auth/logout > Performance > responds within acceptable time with real authentication  317ms\n   ✓ /api/auth/logout > Database Integrity > maintains data consistency with real database operations  307ms\n   ✓ /api/auth/logout > Integration Scenarios > integrates with authentication workflow  332ms\n   ✓ /api/auth/logout > Compliance > meets API standards with proper authentication  335ms\n   ✓ /api/auth/logout > Edge Cases > handles malformed JSON appropriately  309ms\n ✓ tests/api/documents/requirements/[type]/[type].test.ts (10 tests) 2076ms\n   ✓ /api/documents/requirements/[type] > Core Functionality > handles GET requests with valid authentication  448ms\n   ✓ /api/documents/requirements/[type] > Core Functionality > returns consistent response format  309ms\n   ✓ /api/documents/requirements/[type] > Performance > responds within acceptable time with real authentication  340ms\n   ✓ /api/documents/requirements/[type] > Database Integrity > maintains data consistency with real database operations  332ms\n   ✓ /api/documents/requirements/[type] > Integration Scenarios > integrates with authentication workflow  336ms\n   ✓ /api/documents/requirements/[type] > Compliance > meets API standards with proper authentication  306ms\n ✓ tests/api/stripe/webhook/webhook.test.ts (9 tests) 2071ms\n   ✓ /api/stripe/webhook > Core Functionality > handles POST requests with valid data  480ms\n   ✓ /api/stripe/webhook > Performance > responds within acceptable time with real authentication  311ms\n   ✓ /api/stripe/webhook > Database Integrity > maintains data consistency with real database operations  338ms\n   ✓ /api/stripe/webhook > Integration Scenarios > integrates with authentication workflow  313ms\n   ✓ /api/stripe/webhook > Compliance > meets API standards with proper authentication  334ms\n ✓ tests/api/auth/google/google.test.ts (10 tests) 1951ms\n   ✓ /api/auth/google > Core Functionality > handles GET requests with valid authentication  423ms\n   ✓ /api/auth/google > Database Integrity > maintains data consistency with real database operations  312ms\n   ✓ /api/auth/google > Compliance > meets API standards with proper authentication  317ms\n   ✓ /api/auth/google > Edge Cases > handles malformed JSON appropriately  302ms\n ✓ tests/api/documents/[id]/[id].test.ts (10 tests) 2029ms\n   ✓ /api/documents/[id] > Core Functionality > handles GET requests with valid authentication  434ms\n   ✓ /api/documents/[id] > Core Functionality > handles DELETE requests with authentication  325ms\n   ✓ /api/documents/[id] > Performance > responds within acceptable time with real authentication  321ms\n   ✓ /api/documents/[id] > Database Integrity > maintains data consistency with real database operations  310ms\n   ✓ /api/documents/[id] > Integration Scenarios > integrates with authentication workflow  320ms\n   ✓ /api/documents/[id] > Compliance > meets API standards with proper authentication  312ms\n ✓ tests/api/test-db/test-db.test.ts (12 tests) 9ms\n ✓ tests/api/health/health.test.ts (12 tests) 7ms\n ✓ tests/api/assets/categories/categories.test.ts (10 tests) 2055ms\n   ✓ /api/assets/categories > Core Functionality > handles GET requests with valid authentication  476ms\n   ✓ /api/assets/categories > Core Functionality > returns consistent response format  318ms\n   ✓ /api/assets/categories > Performance > responds within acceptable time with real authentication  303ms\n   ✓ /api/assets/categories > Database Integrity > maintains data consistency with real database operations  318ms\n   ✓ /api/assets/categories > Integration Scenarios > integrates with authentication workflow  313ms\n   ✓ /api/assets/categories > Compliance > meets API standards with proper authentication  314ms\n ✓ tests/api/assets/[id]/documents/documents.test.ts (9 tests) 2027ms\n   ✓ /api/assets/[id]/documents > Core Functionality > handles GET requests with valid authentication  521ms\n   ✓ /api/assets/[id]/documents > Performance > responds within acceptable time with real authentication  371ms\n   ✓ /api/assets/[id]/documents > Database Integrity > maintains data consistency with real database operations  366ms\n   ✓ /api/assets/[id]/documents > Integration Scenarios > integrates with authentication workflow  385ms\n   ✓ /api/assets/[id]/documents > Compliance > meets API standards with proper authentication  378ms\n\n Test Files  39 passed (39)\n      Tests  445 passed (445)\n   Start at  12:32:13\n   Duration  20.95s (transform 573ms, setup 5.36s, collect 10.49s, tests 116.07s, environment 6.27s, prepare 1.46s)\n\nstderr | tests/api/rules/rules.test.ts > /api/rules > Edge Cases > handles malformed JSON appropriately\nError creating rule: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/rules/route.ts:130:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/rules/rules.test.ts:167:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/beneficiaries/photo/photo.test.ts > /api/beneficiaries/photo > Performance > responds within acceptable time with real authentication\nBlob upload error: TypeError: Cannot read properties of undefined (reading 'url')\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/beneficiaries/photo/route.ts:67:21\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/beneficiaries/photo/photo.test.ts:156:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/rules/[id]/[id].test.ts > /api/rules/[id] > Error States > returns proper error for unauthenticated requests\nError fetching rule: TypeError: Cannot read properties of undefined (reading 'id')\n    at Module.GET \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/rules/[id]/route.ts:58:76\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/rules/[id]/[id].test.ts:104:27\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/rules/[id]/[id].test.ts > /api/rules/[id] > Security > requires valid JWT authentication\nError fetching rule: TypeError: Cannot read properties of undefined (reading 'id')\n    at Module.GET \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/rules/[id]/route.ts:58:76\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/rules/[id]/[id].test.ts:114:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/rules/[id]/[id].test.ts > /api/rules/[id] > Security > validates JWT signature integrity\nError fetching rule: TypeError: Cannot read properties of undefined (reading 'id')\n    at Module.GET \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/rules/[id]/route.ts:58:76\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/rules/[id]/[id].test.ts:127:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/beneficiaries/photo/photo.test.ts > /api/beneficiaries/photo > Database Integrity > maintains data consistency with real database operations\nBlob upload error: TypeError: Cannot read properties of undefined (reading 'url')\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/beneficiaries/photo/route.ts:67:21\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/beneficiaries/photo/photo.test.ts:176:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/onboarding/save-step/save-step.test.ts > /api/onboarding/save-step > Edge Cases > handles requests with malformed JSON\nSave step error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/save-step/route.ts:20:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/save-step/save-step.test.ts:383:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/beneficiaries/photo/photo.test.ts > /api/beneficiaries/photo > Integration Scenarios > integrates with authentication workflow\nBlob upload error: TypeError: Cannot read properties of undefined (reading 'url')\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/beneficiaries/photo/route.ts:67:21\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/beneficiaries/photo/photo.test.ts:194:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/beneficiaries/photo/photo.test.ts > /api/beneficiaries/photo > Compliance > meets API standards with proper authentication\nBlob upload error: TypeError: Cannot read properties of undefined (reading 'url')\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/beneficiaries/photo/route.ts:67:21\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/beneficiaries/photo/photo.test.ts:212:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/beneficiaries/photo/photo.test.ts > /api/beneficiaries/photo > Edge Cases > handles corrupted file data appropriately\nBlob upload error: TypeError: Cannot read properties of undefined (reading 'url')\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/beneficiaries/photo/route.ts:67:21\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/beneficiaries/photo/photo.test.ts:232:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/onboarding/consent-signature/consent-signature.test.ts > /api/onboarding/consent-signature > Edge Cases > handles malformed JSON appropriately\nConsent signature save error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/consent-signature/route.ts:27:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/consent-signature/consent-signature.test.ts:227:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/onboarding/personal-info/personal-info.test.ts > /api/onboarding/personal-info > Edge Cases > handles requests with malformed JSON\nPersonal info save error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/personal-info/route.ts:184:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/personal-info/personal-info.test.ts:421:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/beneficiaries/beneficiaries.test.ts > /api/beneficiaries > Edge Cases > handles malformed requests appropriately\nError creating beneficiary: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/beneficiaries/route.ts:107:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/beneficiaries/beneficiaries.test.ts:189:26\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/rules/validate-allocation/validate-allocation.test.ts > /api/rules/validate-allocation > Edge Cases > handles malformed JSON appropriately\nError validating allocation: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/rules/validate-allocation/route.ts:45:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/rules/validate-allocation/validate-allocation.test.ts:188:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/onboarding/photo/photo.test.ts > /api/onboarding > Core Functionality > handles POST requests with valid file data\nBlob upload error: TypeError: Cannot read properties of undefined (reading 'url')\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/photo/route.ts:67:21\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/photo/photo.test.ts:55:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/onboarding/signature/signature.test.ts > /api/onboarding > Edge Cases > handles malformed requests appropriately\nSignature save error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/signature/route.ts:74:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/signature/signature.test.ts:191:26\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/onboarding/photo/photo.test.ts > /api/onboarding > Edge Cases > handles malformed file data appropriately\nBlob upload error: TypeError: Cannot read properties of undefined (reading 'url')\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/photo/route.ts:67:21\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/photo/photo.test.ts:199:26\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/onboarding/legal-consent/legal-consent.test.ts > /api/onboarding/legal-consent > Edge Cases > handles malformed requests appropriately\nLegal consent save error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/onboarding/legal-consent/route.ts:58:18\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/onboarding/legal-consent/legal-consent.test.ts:193:26\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/audit/log-event/log-event.test.ts > /api/audit/log-event > Edge Cases > handles malformed JSON appropriately\nAudit logging error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at Module.POST \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/audit/log-event/route.ts:10:7\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/audit/log-event/log-event.test.ts:194:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/auth/login/login.test.ts > /api/auth > Core Functionality > handles POST requests with valid data\nPassword hashing error: Error: Hash function returned invalid result\n    at Function.createTestUser \u001b[90m(/Users/dean/code/Herit/\u001b[39mtests/test-auth-utils.ts:167:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/auth/login/login.test.ts:45:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/auth/login/login.test.ts > /api/auth > Edge Cases > handles malformed requests appropriately\nLogin error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at loginHandler \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/auth/login/route.ts:11:33\u001b[90m)\u001b[39m\n    at Module.<anonymous> \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/lib/rate-limit.ts:111:22\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/auth/login/login.test.ts:204:26\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/auth/register/register.test.ts > /api/auth > Edge Cases > handles malformed requests appropriately\nRegistration error: SyntaxError: Unexpected token 'j', \"{\"malformed\": json}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at NextRequest.json \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/happy-dom@18.0.1/node_modules/\u001b[4mhappy-dom\u001b[24m/src/fetch/Request.ts:419:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at registerHandler \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/auth/register/route.ts:11:54\u001b[90m)\u001b[39m\n    at Module.<anonymous> \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/lib/rate-limit.ts:111:22\u001b[90m)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/auth/register/register.test.ts:191:26\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/test-db/test-db.test.ts > /api/test-db > Error States > handles database failures gracefully\nDatabase connection test failed: Error: Database connection failed\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/test-db/test-db.test.ts:112:23\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:155:11\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:26\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:1863:10\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:1574:12\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runSuite \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:1729:8\u001b[90m)\u001b[39m\n    at runSuite \u001b[90m(file:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:1729:8\u001b[90m)\u001b[39m\n\nstderr | tests/api/test-db/test-db.test.ts > /api/test-db > Security > validates authentication when required\nDatabase connection test failed: TypeError: Cannot read properties of undefined (reading '0')\n    at Module.GET \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/test-db/route.ts:14:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/test-db/test-db.test.ts:144:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/test-db/test-db.test.ts > /api/test-db > Compliance > meets API standards\nDatabase connection test failed: TypeError: Cannot read properties of undefined (reading '0')\n    at Module.GET \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/test-db/route.ts:14:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/test-db/test-db.test.ts:223:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/test-db/test-db.test.ts > /api/test-db > Edge Cases > handles empty requests\nDatabase connection test failed: TypeError: Cannot read properties of undefined (reading '0')\n    at Module.GET \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/test-db/route.ts:14:15\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/test-db/test-db.test.ts:236:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\nstderr | tests/api/assets/categories/categories.test.ts > /api/assets/categories > Edge Cases > handles edge cases appropriately\nAsset categories fetch error: TypeError: Cannot read properties of undefined (reading 'isAuthenticated')\n    at Module.GET \u001b[90m(/Users/dean/code/Herit/\u001b[39mapp/api/assets/categories/route.ts:16:18\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at \u001b[90m/Users/dean/code/Herit/\u001b[39mtests/api/assets/categories/categories.test.ts:134:24\n    at \u001b[90mfile:///Users/dean/code/Herit/\u001b[39mnode_modules/\u001b[4m.pnpm\u001b[24m/@vitest+runner@3.2.4/node_modules/\u001b[4m@vitest\u001b[24m/runner/dist/chunk-hooks.js:752:20\n\n",
      "startTime": 1757071932930,
      "endTime": 1757071954207,
      "duration": 21277,
      "total": 445,
      "passed": 445,
      "failed": 0,
      "skipped": 0,
      "passRate": 100,
      "progress": 100,
      "individualTests": {
        "total": 445,
        "passed": 445,
        "failed": 0,
        "skipped": 0,
        "passRate": 100,
        "progress": 100
      }
    },
    "linting": {
      "command": "npm run lint",
      "status": "completed",
      "output": "\n> herit@0.1.0 lint\n> eslint --fix\n\n\n/Users/dean/code/Herit/app/(auth)/layout.tsx\n  1:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(auth)/login/page.tsx\n  22:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(auth)/onboarding/components/LegalConsentStep.tsx\n  199:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/(auth)/onboarding/components/PersonalInfoStep.cy.tsx\n  23:7  warning  'mockCallbacks' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/(auth)/onboarding/components/PersonalInfoStep.tsx\n  120:11  warning  Unexpected console statement  no-console\n  142:25  warning  Unexpected console statement  no-console\n  224:27  warning  Unexpected console statement  no-console\n  252:25  warning  Unexpected console statement  no-console\n  273:25  warning  Unexpected console statement  no-console\n  278:7   warning  Unexpected console statement  no-console\n  296:25  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/(auth)/onboarding/components/SignatureStamp-optimized.cy.tsx\n   9:3  warning  'timestamp' is defined but never used. Allowed unused args must match /^_.*?$/u                                                                                                                                                                                                          @typescript-eslint/no-unused-vars\n  41:9  warning  Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element\n\n/Users/dean/code/Herit/app/(auth)/onboarding/components/SignatureStep.tsx\n   29:3  warning  'onChange' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  113:9  warning  'handleBackToCreation' is assigned a value but never used                       @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/(auth)/onboarding/components/VerificationStep.tsx\n   59:5  warning  Unexpected console statement  no-console\n   68:9  warning  Unexpected console statement  no-console\n   82:9  warning  Unexpected console statement  no-console\n   88:7  warning  Unexpected console statement  no-console\n  137:5  warning  Unexpected console statement  no-console\n  153:9  warning  Unexpected console statement  no-console\n  163:9  warning  Unexpected console statement  no-console\n  183:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/(auth)/onboarding/page.tsx\n   48:1   warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n   86:5   warning  Unexpected console statement                                                           no-console\n  101:9   warning  Unexpected console statement                                                           no-console\n  110:9   warning  Unexpected console statement                                                           no-console\n  135:5   warning  Unexpected console statement                                                           no-console\n  142:5   warning  Unexpected console statement                                                           no-console\n  149:5   warning  Unexpected console statement                                                           no-console\n  153:7   warning  Unexpected console statement                                                           no-console\n  159:9   warning  Unexpected console statement                                                           no-console\n  174:11  warning  Unexpected console statement                                                           no-console\n  182:11  warning  Unexpected console statement                                                           no-console\n  193:13  warning  Unexpected console statement                                                           no-console\n  198:9   warning  Unexpected console statement                                                           no-console\n  206:7   warning  Unexpected console statement                                                           no-console\n  212:9   warning  Unexpected console statement                                                           no-console\n  216:11  warning  Unexpected console statement                                                           no-console\n  219:9   warning  Unexpected console statement                                                           no-console\n  227:7   warning  Unexpected console statement                                                           no-console\n  233:9   warning  Unexpected console statement                                                           no-console\n  241:11  warning  Unexpected console statement                                                           no-console\n  244:9   warning  Unexpected console statement                                                           no-console\n  251:7   warning  Unexpected console statement                                                           no-console\n  283:7   warning  Unexpected console statement                                                           no-console\n  322:7   warning  Unexpected console statement                                                           no-console\n  350:7   warning  Unexpected console statement                                                           no-console\n  355:7   warning  Unexpected console statement                                                           no-console\n\n/Users/dean/code/Herit/app/(auth)/signup/page.tsx\n  14:1   warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n  82:15  warning  'confirmPassword' is assigned a value but never used                                   @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/(dashboard)/assets/[id]/edit/page.tsx\n  8:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(dashboard)/assets/add/page.tsx\n    62:1   warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n   160:5   warning  Unexpected console statement                                                           no-console\n   161:5   warning  Unexpected console statement                                                           no-console\n   166:9   warning  Unexpected console statement                                                           no-console\n   167:9   warning  Unexpected console statement                                                           no-console\n   171:11  warning  Unexpected console statement                                                           no-console\n   176:13  warning  Unexpected console statement                                                           no-console\n   179:11  warning  Unexpected console statement                                                           no-console\n   185:9   warning  Unexpected console statement                                                           no-console\n   189:7   warning  Unexpected console statement                                                           no-console\n   194:5   warning  Unexpected console statement                                                           no-console\n   202:9   warning  Unexpected console statement                                                           no-console\n   203:9   warning  Unexpected console statement                                                           no-console\n   204:9   warning  Unexpected console statement                                                           no-console\n   205:9   warning  Unexpected console statement                                                           no-console\n   209:9   warning  Unexpected console statement                                                           no-console\n   219:9   warning  Unexpected console statement                                                           no-console\n   237:7   warning  Unexpected console statement                                                           no-console\n   238:7   warning  Unexpected console statement                                                           no-console\n   241:7   warning  Unexpected console statement                                                           no-console\n   248:7   warning  Unexpected console statement                                                           no-console\n   249:7   warning  Unexpected console statement                                                           no-console\n   254:9   warning  Unexpected console statement                                                           no-console\n   255:9   warning  Unexpected console statement                                                           no-console\n   260:9   warning  Unexpected console statement                                                           no-console\n   268:9   warning  Unexpected console statement                                                           no-console\n   275:7   warning  Unexpected console statement                                                           no-console\n   288:5   warning  Unexpected console statement                                                           no-console\n   289:5   warning  Unexpected console statement                                                           no-console\n   290:5   warning  Unexpected console statement                                                           no-console\n   303:7   warning  Unexpected console statement                                                           no-console\n   811:21  warning  Unexpected console statement                                                           no-console\n   815:21  warning  Unexpected console statement                                                           no-console\n  1037:17  warning  Unexpected console statement                                                           no-console\n  1038:17  warning  Unexpected console statement                                                           no-console\n  1039:17  warning  Unexpected console statement                                                           no-console\n  1040:17  warning  Unexpected console statement                                                           no-console\n  1041:17  warning  Unexpected console statement                                                           no-console\n  1045:21  warning  Unexpected console statement                                                           no-console\n  1048:21  warning  Unexpected console statement                                                           no-console\n  1054:19  warning  Unexpected console statement                                                           no-console\n\n/Users/dean/code/Herit/app/(dashboard)/assets/page.tsx\n  39:1   warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n  46:21  warning  'setSortOrder' is assigned a value but never used                                      @typescript-eslint/no-unused-vars\n  75:9   warning  Unexpected console statement                                                           no-console\n\n/Users/dean/code/Herit/app/(dashboard)/beneficiaries/[id]/edit/page.tsx\n  20:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(dashboard)/beneficiaries/add/page.tsx\n  13:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(dashboard)/beneficiaries/page.tsx\n  29:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(dashboard)/dashboard/DashboardClient.tsx\n  29:11  warning  'DashboardStats' is defined but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/(dashboard)/dashboard/page.tsx\n  8:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(dashboard)/layout.tsx\n  4:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/(dashboard)/rules/components/CreateRuleModal.cy.tsx\n  20:7  warning  'mockCallbacks' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/(dashboard)/rules/components/CreateRuleModal.tsx\n  213:9  warning  Unexpected console statement  no-console\n  270:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/(dashboard)/rules/components/EditRuleModal.cy.tsx\n  21:7  warning  'mockCallbacks' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/(dashboard)/rules/components/EditRuleModal.tsx\n  216:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/(dashboard)/rules/components/ViewRuleModal.tsx\n  46:9  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/(dashboard)/rules/page.tsx\n  27:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n  64:9  warning  Unexpected console statement                                                           no-console\n\n/Users/dean/code/Herit/app/(dashboard)/test-shared-form/page.tsx\n   9:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n  13:5  warning  Unexpected console statement                                                           no-console\n\n/Users/dean/code/Herit/app/(dashboard)/will/WillClient.tsx\n  22:12  warning  'willError' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/(dashboard)/will/page.tsx\n  7:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/_lib/QueryProvider.cy.tsx\n  16:9   warning  'queryClient' is assigned a value but never used  @typescript-eslint/no-unused-vars\n  39:17  warning  'queryClient' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/_lib/error.tsx\n  5:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/api/assets/[id]/documents/route.ts\n   73:5   warning  Unexpected console statement                 no-console\n   75:7   warning  Unexpected console statement                 no-console\n  121:7   warning  Unexpected console statement                 no-console\n  125:7   warning  Unexpected console statement                 no-console\n  166:5   warning  Unexpected console statement                 no-console\n  167:5   warning  Unexpected console statement                 no-console\n  196:11  warning  'filter' is assigned a value but never used  @typescript-eslint/no-unused-vars\n  221:5   warning  Unexpected console statement                 no-console\n\n/Users/dean/code/Herit/app/api/assets/[id]/route.ts\n   52:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars\n  146:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars\n  210:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/api/assets/categories/route.ts\n  12:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  37:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/assets/route.ts\n  164:5   warning  Unexpected console statement       no-console\n  277:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/api/audit/log-event/route.ts\n  45:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/auth/create-test-user/route.ts\n  75:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/auth/google/callback/route.ts\n   39:7  warning  Unexpected console statement  no-console\n  166:7  warning  Unexpected console statement  no-console\n  216:7  warning  Unexpected console statement  no-console\n  505:7  warning  Unexpected console statement  no-console\n  534:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/auth/google/route.ts\n   6:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  56:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/auth/login/route.ts\n  70:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/auth/logout/route.ts\n   5:28  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  12:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/auth/refresh/route.ts\n  51:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/auth/register/route.ts\n  85:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/auth/session/route.ts\n   5:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  27:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/beneficiaries/[id]/route.ts\n   49:5  warning  Unexpected console statement  no-console\n  127:5  warning  Unexpected console statement  no-console\n  180:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/beneficiaries/count/route.ts\n   8:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  40:12  warning  'error' is defined but never used                                              @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/api/beneficiaries/photo/route.ts\n  75:7  warning  Unexpected console statement  no-console\n  83:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/beneficiaries/route.ts\n   90:5  warning  Unexpected console statement  no-console\n  154:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/debug-user/route.ts\n  68:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/debug/verification/route.ts\n  147:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/documents/[id]/route.ts\n  24:5  warning  Unexpected console statement  no-console\n  55:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/documents/requirements/[type]/route.ts\n  25:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/health/route.ts\n  34:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  55:11  warning  'result' is assigned a value but never used                                    @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/api/onboarding/complete/route.ts\n    9:28  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   48:9   warning  Unexpected console statement                                                   no-console\n   61:11  warning  Unexpected console statement                                                   no-console\n   78:9   warning  Unexpected console statement                                                   no-console\n   91:5   warning  Unexpected console statement                                                   no-console\n  127:7   warning  Unexpected console statement                                                   no-console\n  136:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/onboarding/consent-signature/route.ts\n   9:3  warning  Unexpected console statement  no-console\n  13:5  warning  Unexpected console statement  no-console\n  19:7  warning  Unexpected console statement  no-console\n  91:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/onboarding/legal-consent/route.ts\n    8:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   38:5   warning  Unexpected console statement                                                   no-console\n  110:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/onboarding/personal-info/route.ts\n  127:5   warning  Unexpected console statement  no-console\n  186:5   warning  Unexpected console statement  no-console\n  210:5   warning  Unexpected console statement  no-console\n  283:5   warning  Unexpected console statement  no-console\n  289:7   warning  Unexpected console statement  no-console\n  291:7   warning  Unexpected console statement  no-console\n  341:5   warning  Unexpected console statement  no-console\n  349:7   warning  Unexpected console statement  no-console\n  369:5   warning  Unexpected console statement  no-console\n  405:13  warning  Unexpected console statement  no-console\n  406:13  warning  Unexpected console statement  no-console\n  412:13  warning  Unexpected console statement  no-console\n  432:5   warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/onboarding/photo/route.ts\n  75:7  warning  Unexpected console statement  no-console\n  83:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/onboarding/save-step/route.ts\n   91:5  warning  Unexpected console statement  no-console\n  100:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/onboarding/signature/route.ts\n    8:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   54:5   warning  Unexpected console statement                                                   no-console\n  173:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/onboarding/status/route.ts\n   5:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  23:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/onboarding/verification/route.ts\n   9:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  93:7   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/onboarding/verification/sync/route.ts\n    9:28  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   66:11  warning  Unexpected console statement                                                   no-console\n   96:9   warning  Unexpected console statement                                                   no-console\n  139:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/rules/[id]/route.ts\n   86:5  warning  Unexpected console statement  no-console\n  248:5  warning  Unexpected console statement  no-console\n  284:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/rules/route.ts\n   40:6   warning  'CreateRuleRequest' is defined but never used                                  @typescript-eslint/no-unused-vars\n   42:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  105:5   warning  Unexpected console statement                                                   no-console\n  247:5   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/api/rules/validate-allocation/route.ts\n   22:6  warning  'ValidateAllocationRequest' is defined but never used  @typescript-eslint/no-unused-vars\n  195:5  warning  Unexpected console statement                           no-console\n\n/Users/dean/code/Herit/app/api/stripe/webhook/route.ts\n   22:7   warning  Unexpected console statement                           no-console\n   39:14  warning  'error' is defined but never used                      @typescript-eslint/no-unused-vars\n   57:12  warning  'error' is defined but never used                      @typescript-eslint/no-unused-vars\n   72:7   warning  Unexpected console statement                           no-console\n   77:29  warning  'verificationData' is assigned a value but never used  @typescript-eslint/no-unused-vars\n  113:7   warning  Unexpected console statement                           no-console\n  128:5   warning  Unexpected console statement                           no-console\n  151:7   warning  Unexpected console statement                           no-console\n  160:5   warning  Unexpected console statement                           no-console\n  168:5   warning  Unexpected console statement                           no-console\n\n/Users/dean/code/Herit/app/api/test-counts/route.ts\n  18:5  warning  Unexpected console statement  no-console\n  25:5  warning  Unexpected console statement  no-console\n  26:5  warning  Unexpected console statement  no-console\n  33:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/test-db/route.ts\n  18:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/test-reports/route.ts\n  25:11  warning  Unexpected console statement  no-console\n  43:5   warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/api/test-runner/route.ts\n   23:5   warning  Unexpected console statement       no-console\n   49:7   warning  Unexpected console statement       no-console\n   83:11  warning  Unexpected console statement       no-console\n  114:24  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars\n  165:13  warning  Unexpected console statement       no-console\n  177:13  warning  Unexpected console statement       no-console\n  196:15  warning  Unexpected console statement       no-console\n  207:11  warning  Unexpected console statement       no-console\n  232:5   warning  Unexpected console statement       no-console\n  248:5   warning  Unexpected console statement       no-console\n  253:7   warning  Unexpected console statement       no-console\n  267:5   warning  Unexpected console statement       no-console\n\n/Users/dean/code/Herit/app/api/will/route.ts\n    8:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   58:12  warning  'error' is defined but never used                                              @typescript-eslint/no-unused-vars\n  116:12  warning  'error' is defined but never used                                              @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/api/will/status/route.ts\n    8:27  warning  'request' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   61:12  warning  'error' is defined but never used                                              @typescript-eslint/no-unused-vars\n  136:12  warning  'error' is defined but never used                                              @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/auth/AuthErrorHandler.tsx\n  31:7  warning  Unexpected console statement  no-console\n  40:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/components/auth/EmailSignupForm.tsx\n  62:15  warning  'confirmPassword' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/auth/LoginForm-enhanced.cy.tsx\n  555:13  warning  'currentMode' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/auth/ProtectedRoute.tsx\n  25:5  warning  Unexpected console statement  no-console\n  41:9  warning  Unexpected console statement  no-console\n  50:9  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/components/auth/SignatureCanvas.tsx\n  24:11  warning  'theme' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/beneficiaries/BeneficiaryForm.cy.tsx\n  22:7  warning  'mockCallbacks' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/beneficiaries/BeneficiaryList.tsx\n  59:3  warning  'onPageSizeChange' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/beneficiaries/BeneficiaryPhotoInput.cy.tsx\n  22:7  warning  'mockCallbacks' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/beneficiaries/BeneficiaryPhotoInput.tsx\n  24:3  warning  'isInvalid' is assigned a value but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  25:3  warning  'errorMessage' is defined but never used. Allowed unused args must match /^_.*?$/u        @typescript-eslint/no-unused-vars\n  91:7  warning  Unexpected console statement                                                              no-console\n\n/Users/dean/code/Herit/app/components/documents/DocumentManager.tsx\n   53:1   warning  Prefer named exports over default exports for React components to improve testability                                                                                                                                                                                                    storybook-cypress-compliance/require-named-export\n   60:10  warning  'viewMode' is assigned a value but never used                                                                                                                                                                                                                                            @typescript-eslint/no-unused-vars\n   60:20  warning  'setViewMode' is assigned a value but never used                                                                                                                                                                                                                                         @typescript-eslint/no-unused-vars\n  122:5   warning  Unexpected console statement                                                                                                                                                                                                                                                             no-console\n  130:11  warning  Unexpected console statement                                                                                                                                                                                                                                                             no-console\n  144:9   warning  Unexpected console statement                                                                                                                                                                                                                                                             no-console\n  162:9   warning  Unexpected console statement                                                                                                                                                                                                                                                             no-console\n  404:17  warning  Unexpected console statement                                                                                                                                                                                                                                                             no-console\n  430:19  warning  Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element\n\n/Users/dean/code/Herit/app/components/documents/DocumentUploadZone.tsx\n   49:1   warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n   51:3   warning  'assetType' is defined but never used. Allowed unused args must match /^_.*?$/u        @typescript-eslint/no-unused-vars\n  118:11  warning  'uploadId' is assigned a value but never used                                          @typescript-eslint/no-unused-vars\n  171:13  warning  Unexpected console statement                                                           no-console\n  228:7   warning  Unexpected console statement                                                           no-console\n\n/Users/dean/code/Herit/app/components/layout/navbar.tsx\n  23:17  warning  'isSessionLoading' is assigned a value but never used  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/pages/HomePageClient.tsx\n  31:9  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/components/shared/DependencyInjectionExample.tsx\n   60:13  warning  'key' is defined but never used. Allowed unused args must match /^_.*?$/u    @typescript-eslint/no-unused-vars\n   60:18  warning  'value' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   63:13  warning  'key' is defined but never used. Allowed unused args must match /^_.*?$/u    @typescript-eslint/no-unused-vars\n   64:16  warning  'key' is defined but never used. Allowed unused args must match /^_.*?$/u    @typescript-eslint/no-unused-vars\n  141:7   warning  Unexpected console statement                                                 no-console\n  161:7   warning  Unexpected console statement                                                 no-console\n  182:7   warning  Unexpected console statement                                                 no-console\n  303:14  warning  'error' is defined but never used                                            @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/components/shared/SharedPersonalInfoFormProvider.tsx\n  65:7  warning  Unexpected console statement  no-console\n  69:7  warning  Unexpected console statement  no-console\n  86:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/components/shared/SharedPhotoUpload.tsx\n   27:3   warning  'name' is assigned a value but never used. Allowed unused args must match /^_.*?$/u                                                                                                                                                                                                      @typescript-eslint/no-unused-vars\n   28:3   warning  'isInvalid' is assigned a value but never used. Allowed unused args must match /^_.*?$/u                                                                                                                                                                                                 @typescript-eslint/no-unused-vars\n   29:3   warning  'errorMessage' is defined but never used. Allowed unused args must match /^_.*?$/u                                                                                                                                                                                                       @typescript-eslint/no-unused-vars\n  129:7   warning  Unexpected console statement                                                                                                                                                                                                                                                             no-console\n  171:9   warning  'markPhotoForDeletion' is assigned a value but never used                                                                                                                                                                                                                                @typescript-eslint/no-unused-vars\n  183:9   warning  'restorePhoto' is assigned a value but never used                                                                                                                                                                                                                                        @typescript-eslint/no-unused-vars\n  209:9   warning  'getTitle' is assigned a value but never used                                                                                                                                                                                                                                            @typescript-eslint/no-unused-vars\n  231:9   warning  'getDescription' is assigned a value but never used                                                                                                                                                                                                                                      @typescript-eslint/no-unused-vars\n  313:13  warning  Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element\n\n/Users/dean/code/Herit/app/components/ui/ErrorBoundary.tsx\n   29:5  warning  Unexpected console statement  no-console\n  101:9  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/hooks/useAssets.ts\n  220:22  warning  'assetId' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/hooks/useDocuments.ts\n  79:20  warning  'documentId' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/hooks/useRules.ts\n  109:7  warning  Unexpected console statement  no-console\n  152:7  warning  Unexpected console statement  no-console\n  185:7  warning  Unexpected console statement  no-console\n  218:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/layout.tsx\n  48:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/lib/audit-middleware.ts\n   66:7   warning  Unexpected console statement                 no-console\n   84:11  warning  'action' is assigned a value but never used  @typescript-eslint/no-unused-vars\n   99:14  warning  'error' is defined but never used            @typescript-eslint/no-unused-vars\n  185:14  warning  'error' is defined but never used            @typescript-eslint/no-unused-vars\n  202:16  warning  'error' is defined but never used            @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/app/lib/auth-client.ts\n  28:7  warning  Unexpected console statement  no-console\n  40:5  warning  Unexpected console statement  no-console\n  74:5  warning  Unexpected console statement  no-console\n  93:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/lib/auth.ts\n   70:5  warning  Unexpected console statement  no-console\n   89:5  warning  Unexpected console statement  no-console\n  108:5  warning  Unexpected console statement  no-console\n  128:5  warning  Unexpected console statement  no-console\n  150:7  warning  Unexpected console statement  no-console\n  174:7  warning  Unexpected console statement  no-console\n  246:5  warning  Unexpected console statement  no-console\n  302:7  warning  Unexpected console statement  no-console\n  361:7  warning  Unexpected console statement  no-console\n  407:5  warning  Unexpected console statement  no-console\n  517:5  warning  Unexpected console statement  no-console\n  533:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/lib/document-storage.ts\n  103:7   warning  Unexpected console statement                                                   no-console\n  115:7   warning  Unexpected console statement                                                   no-console\n  140:7   warning  Unexpected console statement                                                   no-console\n  219:27  warning  'assetId' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  225:7   warning  Unexpected console statement                                                   no-console\n  240:7   warning  Unexpected console statement                                                   no-console\n\n/Users/dean/code/Herit/app/lib/logger.ts\n  42:11  warning  Unexpected console statement  no-console\n  46:9   warning  Unexpected console statement  no-console\n  49:9   warning  Unexpected console statement  no-console\n  52:9   warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/lib/photo-utils.ts\n   54:7  warning  Unexpected console statement  no-console\n   60:5  warning  Unexpected console statement  no-console\n   64:7  warning  Unexpected console statement  no-console\n   73:7  warning  Unexpected console statement  no-console\n   80:7  warning  Unexpected console statement  no-console\n   97:5  warning  Unexpected console statement  no-console\n  101:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/lib/query-error-handling.ts\n  78:9  warning  Unexpected console statement  no-console\n  92:9  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/lib/signature-extract.ts\n  496:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/lib/stripe.ts\n   51:9  warning  Unexpected console statement  no-console\n  102:9  warning  Unexpected console statement  no-console\n  144:7  warning  Unexpected console statement  no-console\n  168:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/lib/svg-sanitizer.ts\n  80:7  warning  Unexpected console statement  no-console\n  87:5  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/app/page.tsx\n  6:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/app/test-status/page.tsx\n  3:1  warning  Prefer named exports over default exports for React components to improve testability  storybook-cypress-compliance/require-named-export\n\n/Users/dean/code/Herit/components/TestStatusDashboard.tsx\n    54:7   warning  'SSE_CHUNK_TIMEOUT' is assigned a value but never used                               @typescript-eslint/no-unused-vars\n    59:3   warning  'error' is defined but never used. Allowed unused args must match /^_.*?$/u          @typescript-eslint/no-unused-vars\n   181:5   warning  Unexpected console statement                                                         no-console\n   531:9   warning  Unexpected console statement                                                         no-console\n   654:9   warning  'calculateWeightedProgress' is assigned a value but never used                       @typescript-eslint/no-unused-vars\n   704:7   warning  Unexpected console statement                                                         no-console\n   706:7   warning  Unexpected console statement                                                         no-console\n   717:7   warning  Unexpected console statement                                                         no-console\n   724:7   warning  Unexpected console statement                                                         no-console\n   729:5   warning  Unexpected console statement                                                         no-console\n   769:7   warning  Unexpected console statement                                                         no-console\n   784:11  warning  Unexpected console statement                                                         no-console\n   965:5   warning  Unexpected console statement                                                         no-console\n   979:9   warning  Unexpected console statement                                                         no-console\n   981:9   warning  Unexpected console statement                                                         no-console\n   987:7   warning  Unexpected console statement                                                         no-console\n  1022:9   warning  Unexpected console statement                                                         no-console\n  1028:7   warning  Unexpected console statement                                                         no-console\n  1153:11  warning  Unexpected console statement                                                         no-console\n  1167:9   warning  Unexpected console statement                                                         no-console\n  1186:13  warning  Unexpected console statement                                                         no-console\n  1478:19  warning  Unexpected console statement                                                         no-console\n  1529:17  warning  Unexpected console statement                                                         no-console\n  1696:5   warning  'scannedCounts' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n  1803:9   warning  'getSuccessRate' is assigned a value but never used                                  @typescript-eslint/no-unused-vars\n  1825:9   warning  'liveTestStats' is assigned a value but never used                                   @typescript-eslint/no-unused-vars\n  2158:23  warning  'totalTests' is assigned a value but never used                                      @typescript-eslint/no-unused-vars\n  2159:23  warning  'passedTests' is assigned a value but never used                                     @typescript-eslint/no-unused-vars\n  2160:23  warning  'failedTests' is assigned a value but never used                                     @typescript-eslint/no-unused-vars\n  2163:23  warning  'passRate' is assigned a value but never used                                        @typescript-eslint/no-unused-vars\n  2657:59  warning  'index' is defined but never used. Allowed unused args must match /^_.*?$/u          @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/lib/test-counter.ts\n  145:7  warning  Unexpected console statement  no-console\n\n/Users/dean/code/Herit/lib/test-output-parser.ts\n   71:7   warning  Unexpected console statement                                                      no-console\n   79:9   warning  Unexpected console statement                                                      no-console\n   87:11  warning  Unexpected console statement                                                      no-console\n  180:9   warning  Unexpected console statement                                                      no-console\n  192:9   warning  Unexpected console statement                                                      no-console\n  362:5   warning  'testCounts' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n\n/Users/dean/code/Herit/lib/test-runner.ts\n   108:7   warning  Unexpected console statement                                                       no-console\n   128:7   warning  Unexpected console statement                                                       no-console\n   132:7   warning  Unexpected console statement                                                       no-console\n   147:11  warning  Unexpected console statement                                                       no-console\n   171:14  warning  'error' is defined but never used                                                  @typescript-eslint/no-unused-vars\n   172:7   warning  Unexpected console statement                                                       no-console\n   304:5   warning  'abortSignal' is defined but never used. Allowed unused args must match /^_.*?$/u  @typescript-eslint/no-unused-vars\n   310:5   warning  Unexpected console statement                                                       no-console\n   319:7   warning  Unexpected console statement                                                       no-console\n   324:7   warning  Unexpected console statement                                                       no-console\n   433:7   warning  Unexpected console statement                                                       no-console\n   438:9   warning  Unexpected console statement                                                       no-console\n   448:9   warning  Unexpected console statement                                                       no-console\n   452:11  warning  Unexpected console statement                                                       no-console\n   467:15  warning  Unexpected console statement                                                       no-console\n   478:13  warning  Unexpected console statement                                                       no-console\n   481:13  warning  Unexpected console statement                                                       no-console\n   496:11  warning  Unexpected console statement                                                       no-console\n   511:15  warning  Unexpected console statement                                                       no-console\n   520:13  warning  Unexpected console statement                                                       no-console\n   523:13  warning  Unexpected console statement                                                       no-console\n   543:9   warning  Unexpected console statement                                                       no-console\n   580:13  warning  Unexpected console statement                                                       no-console\n   593:17  warning  Unexpected console statement                                                       no-console\n   599:17  warning  Unexpected console statement                                                       no-console\n   609:13  warning  Unexpected console statement                                                       no-console\n   636:13  warning  Unexpected console statement                                                       no-console\n   669:13  warning  Unexpected console statement                                                       no-console\n   680:17  warning  Unexpected console statement                                                       no-console\n   686:17  warning  Unexpected console statement                                                       no-console\n   694:13  warning  Unexpected console statement                                                       no-console\n   719:13  warning  Unexpected console statement                                                       no-console\n   753:7   warning  Unexpected console statement                                                       no-console\n   757:7   warning  Unexpected console statement                                                       no-console\n   781:5   warning  Unexpected console statement                                                       no-console\n   800:9   warning  Unexpected console statement                                                       no-console\n   846:11  warning  Unexpected console statement                                                       no-console\n   849:11  warning  Unexpected console statement                                                       no-console\n   851:11  warning  Unexpected console statement                                                       no-console\n   873:13  warning  Unexpected console statement                                                       no-console\n   877:13  warning  Unexpected console statement                                                       no-console\n   950:13  warning  Unexpected console statement                                                       no-console\n   957:13  warning  Unexpected console statement                                                       no-console\n   965:7   warning  Unexpected console statement                                                       no-console\n   989:7   warning  Unexpected console statement                                                       no-console\n  1007:11  warning  Unexpected console statement                                                       no-console\n  1092:11  warning  Unexpected console statement                                                       no-console\n  1095:11  warning  Unexpected console statement                                                       no-console\n  1097:11  warning  Unexpected console statement                                                       no-console\n  1189:7   warning  Unexpected console statement                                                       no-console\n  1191:7   warning  Unexpected console statement                                                       no-console\n\n✖ 447 problems (0 errors, 447 warnings)\n\n",
      "startTime": 1757071925672,
      "endTime": 1757071929687,
      "duration": 4015,
      "total": 1,
      "passed": 1,
      "failed": 0,
      "skipped": 0,
      "passRate": 100,
      "progress": 100,
      "individualTests": {
        "total": 1,
        "passed": 1,
        "failed": 0,
        "skipped": 0,
        "passRate": 100,
        "progress": 100
      }
    },
    "build": {
      "command": "npm run typecheck",
      "status": "completed",
      "output": "\n> herit@0.1.0 typecheck\n> tsc --noEmit --skipLibCheck\n\n",
      "startTime": 1757071929688,
      "endTime": 1757071932928,
      "duration": 3240,
      "total": 1,
      "passed": 1,
      "failed": 0,
      "skipped": 0,
      "passRate": 100,
      "progress": 100,
      "individualTests": {
        "total": 1,
        "passed": 1,
        "failed": 0,
        "skipped": 0,
        "passRate": 100,
        "progress": 100
      }
    },
    "componentTestsAccessibility": {
      "command": "npm run test:ct:accessibility",
      "status": "failed",
      "output": "\n> herit@0.1.0 test:ct:accessibility\n> cypress run --component --config video=false,screenshotOnRunFailure=false --quiet --spec 'app/_lib/**/*.cy.tsx,app/components/auth/**/*.cy.tsx,app/components/ui/**/*.cy.tsx,app/components/layout/**/*.cy.tsx,app/components/branding/**/*.cy.tsx,app/components/pages/**/*.cy.tsx,app/components/examples/**/*.cy.tsx'\n\n14 assets\n967 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 850 ms\n16 assets\n970 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 137 ms\n\n\n  QueryProvider\n    Core Functionality\n      ✓ renders without crashing (51ms)\n      ✓ provides QueryClient context to children (30ms)\n    Error Handling\n      ✓ handles component errors gracefully (26ms)\n    Accessibility\n      ✓ provides accessible context (26ms)\n    Responsive Design\n      ✓ works at different screen sizes (29ms)\n    Integration\n      ✓ works within parent containers (30ms)\n\n\n  6 passing (233ms)\n\n17 assets\n969 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 204 ms\n\n\n  Error Component\n    Core Functionality\n      ✓ renders error message and try again button (53ms)\n      (Attempt 1 of 3) calls reset callback when try again button is clicked\n      (Attempt 2 of 3) calls reset callback when try again button is clicked\n      1) calls reset callback when try again button is clicked\n      ✓ logs error to console on component mount (31ms)\n      ✓ handles different error types and messages (29ms)\n    Error States\n      ✓ handles missing error object gracefully (27ms)\n      (Attempt 1 of 3) handles missing reset callback gracefully\n      (Attempt 2 of 3) handles missing reset callback gracefully\n      2) handles missing reset callback gracefully\n      ✓ handles complex error objects (32ms)\n      (Attempt 1 of 3) handles multiple rapid error occurrences\n      (Attempt 2 of 3) handles multiple rapid error occurrences\n      3) handles multiple rapid error occurrences\n    Accessibility\n      (Attempt 1 of 3) should be accessible\n      (Attempt 2 of 3) should be accessible\n      4) should be accessible\n      (Attempt 1 of 3) supports keyboard navigation\n      (Attempt 2 of 3) supports keyboard navigation\n      5) supports keyboard navigation\n      (Attempt 1 of 3) has proper semantic structure\n      (Attempt 2 of 3) has proper semantic structure\n      6) has proper semantic structure\n      ✓ provides clear user guidance (31ms)\n    Performance\n      (Attempt 1 of 3) should render quickly\n      (Attempt 2 of 3) should render quickly\n      7) should render quickly\n      (Attempt 1 of 3) handles large error objects efficiently\n      (Attempt 2 of 3) handles large error objects efficiently\n      8) handles large error objects efficiently\n      (Attempt 1 of 3) handles rapid reset button clicks efficiently\n      (Attempt 2 of 3) handles rapid reset button clicks efficiently\n      9) handles rapid reset button clicks efficiently\n    Responsive Design\n      ✓ should work on all screen sizes (42ms)\n      ✓ maintains proper spacing on mobile (29ms)\n      ✓ handles long error messages on narrow screens (30ms)\n    Integration Scenarios\n      (Attempt 1 of 3) integrates with error boundary workflow\n      (Attempt 2 of 3) integrates with error boundary workflow\n      10) integrates with error boundary workflow\n      ✓ handles error reporting service integration (12ms)\n      (Attempt 1 of 3) works within Next.js app router context\n      (Attempt 2 of 3) works within Next.js app router context\n      11) works within Next.js app router context\n    Edge Cases\n      ✓ handles circular reference errors (31ms)\n      ✓ handles error objects without message (30ms)\n      ✓ handles non-Error objects passed as error (28ms)\n      ✓ handles rapid component remounting (38ms)\n    Security\n      (Attempt 1 of 3) safely handles malicious error messages\n      (Attempt 2 of 3) safely handles malicious error messages\n      12) safely handles malicious error messages\n      ✓ safely handles error properties with XSS attempts (38ms)\n      (Attempt 1 of 3) prevents reset callback injection attacks\n      (Attempt 2 of 3) prevents reset callback injection attacks\n      13) prevents reset callback injection attacks\n      (Attempt 1 of 3) handles error stack traces safely\n      (Attempt 2 of 3) handles error stack traces safely\n      14) handles error stack traces safely\n    Quality Checks\n      (Attempt 1 of 3) should meet performance standards\n      (Attempt 2 of 3) should meet performance standards\n      15) should meet performance standards\n      (Attempt 1 of 3) should be accessible\n      (Attempt 2 of 3) should be accessible\n      16) should be accessible\n      ✓ should handle responsive layouts (13ms)\n\n\n  16 passing (1m)\n  16 failing\n\n  1) Error Component\n       Core Functionality\n         calls reset callback when try again button is clicked:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n  From Your Spec Code:\n      at Object.proxyGetter [as get] (http://localhost:8080/__cypress/runner/cypress_runner.js:80426:22)\n      at exists (http://localhost:8080/__cypress/runner/cypress_runner.js:146470:26)\n      at elExists (http://localhost:8080/__cypress/runner/cypress_runner.js:146485:10)\n      at ensureExistence (http://localhost:8080/__cypress/runner/cypress_runner.js:146666:22)\n      at onFailFn (http://localhost:8080/__cypress/runner/cypress_runner.js:146695:53)\n\n  2) Error Component\n       Error States\n         handles missing reset callback gracefully:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n  3) Error Component\n       Error States\n         handles multiple rapid error occurrences:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n  4) Error Component\n       Accessibility\n         should be accessible:\n     CypressError: `cy.within()` can only be called on a single element. Your subject contained 2 elements. Narrow down your subject to a single element (using `.first()`, for example) before calling `.within()`.\n\nTo run `.within()` over multiple subjects, use `.each()`.\n\n  `cy.get('div').each($div => {`\n  `  cy.wrap($div).within(() => { ... })`\n  `})`\n\nhttps://on.cypress.io/within\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:135977:72)\n      at __WEBPACK_DEFAULT_EXPORT__ (http://localhost:8080/__cypress/runner/cypress_runner.js:133819:10)\n      at Context.within (http://localhost:8080/__cypress/runner/cypress_runner.js:135970:67)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n  From Your Spec Code:\n      at Object.proxyGetter [as get] (http://localhost:8080/__cypress/runner/cypress_runner.js:80426:22)\n      at exists (http://localhost:8080/__cypress/runner/cypress_runner.js:146470:26)\n      at elExists (http://localhost:8080/__cypress/runner/cypress_runner.js:146485:10)\n      at ensureExistence (http://localhost:8080/__cypress/runner/cypress_runner.js:146666:22)\n      at onFailFn (http://localhost:8080/__cypress/runner/cypress_runner.js:146695:53)\n\n  5) Error Component\n       Accessibility\n         supports keyboard navigation:\n     CypressError: `cy.focus()` can only be called on a single element. Your subject contained 2 elements.\n\nhttps://on.cypress.io/focus\n      at Context.focus (http://localhost:8080/__cypress/runner/cypress_runner.js:114705:70)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n  From Your Spec Code:\n      at Object.proxyGetter [as get] (http://localhost:8080/__cypress/runner/cypress_runner.js:80426:22)\n      at exists (http://localhost:8080/__cypress/runner/cypress_runner.js:146470:26)\n      at elExists (http://localhost:8080/__cypress/runner/cypress_runner.js:146485:10)\n      at ensureExistence (http://localhost:8080/__cypress/runner/cypress_runner.js:146666:22)\n      at onFailFn (http://localhost:8080/__cypress/runner/cypress_runner.js:146695:53)\n\n  6) Error Component\n       Accessibility\n         has proper semantic structure:\n\n      Timed out retrying after 4000ms\n      + expected - actual\n\n      -'DIV'\n      +'BUTTON'\n      \n      at Context.eval (webpack-internal:///./app/_lib/error.cy.tsx:344:46)\n\n  7) Error Component\n       Performance\n         should render quickly:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"button\"]`, but never found it.\n      at Object.measureRenderTime (webpack-internal:///./cypress/support/test-utils.ts:272:31)\n      at Context.eval (webpack-internal:///./app/_lib/error.cy.tsx:374:80)\n\n  8) Error Component\n       Performance\n         handles large error objects efficiently:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"button\"]`, but never found it.\n      at Object.measureRenderTime (webpack-internal:///./cypress/support/test-utils.ts:272:31)\n      at Context.eval (webpack-internal:///./app/_lib/error.cy.tsx:400:80)\n\n  9) Error Component\n       Performance\n         handles rapid reset button clicks efficiently:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n  10) Error Component\n       Integration Scenarios\n         integrates with error boundary workflow:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n  11) Error Component\n       Integration Scenarios\n         works within Next.js app router context:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n  12) Error Component\n       Security\n         safely handles malicious error messages:\n     AssertionError: Timed out retrying after 4000ms: Expected [ <script>, 3 more... ] not to exist in the DOM, but it was continuously found.\n      at Context.eval (webpack-internal:///./app/_lib/error.cy.tsx:835:30)\n\n  13) Error Component\n       Security\n         prevents reset callback injection attacks:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n  14) Error Component\n       Security\n         handles error stack traces safely:\n     AssertionError: Timed out retrying after 4000ms: Expected [ <script>, 3 more... ] not to exist in the DOM, but it was continuously found.\n      at Context.eval (webpack-internal:///./app/_lib/error.cy.tsx:905:30)\n\n  15) Error Component\n       Quality Checks\n         should meet performance standards:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"button\"]`, but never found it.\n      at Object.measureRenderTime (webpack-internal:///./cypress/support/test-utils.ts:272:31)\n      at Context.eval (webpack-internal:///./app/_lib/error.cy.tsx:913:80)\n\n  16) Error Component\n       Quality Checks\n         should be accessible:\n     CypressError: `cy.within()` can only be called on a single element. Your subject contained 2 elements. Narrow down your subject to a single element (using `.first()`, for example) before calling `.within()`.\n\nTo run `.within()` over multiple subjects, use `.each()`.\n\n  `cy.get('div').each($div => {`\n  `  cy.wrap($div).within(() => { ... })`\n  `})`\n\nhttps://on.cypress.io/within\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:135977:72)\n      at __WEBPACK_DEFAULT_EXPORT__ (http://localhost:8080/__cypress/runner/cypress_runner.js:133819:10)\n      at Context.within (http://localhost:8080/__cypress/runner/cypress_runner.js:135970:67)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n\n\n16 assets\n968 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 263 ms\n\n\n  providers\n    Core Functionality\n      (Attempt 1 of 3) renders without crashing\n      (Attempt 2 of 3) renders without crashing\n      1) renders without crashing\n      (Attempt 1 of 3) displays content correctly\n      (Attempt 2 of 3) displays content correctly\n      2) displays content correctly\n      (Attempt 1 of 3) handles props correctly\n      (Attempt 2 of 3) handles props correctly\n      3) handles props correctly\n    Accessibility\n      (Attempt 1 of 3) meets basic accessibility standards\n      (Attempt 2 of 3) meets basic accessibility standards\n      4) meets basic accessibility standards\n      (Attempt 1 of 3) supports keyboard navigation\n      (Attempt 2 of 3) supports keyboard navigation\n      5) supports keyboard navigation\n    Responsive Design\n      (Attempt 1 of 3) adapts to different screen sizes\n      (Attempt 2 of 3) adapts to different screen sizes\n      6) adapts to different screen sizes\n    Integration\n      (Attempt 1 of 3) works within parent containers\n      (Attempt 2 of 3) works within parent containers\n      7) works within parent containers\n\n\n  0 passing (1m)\n  7 failing\n\n  1) providers\n       Core Functionality\n         renders without crashing:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"providers\"], [data-testid=\"providers\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/_lib/providers.cy.tsx:38:76)\n\n  2) providers\n       Core Functionality\n         displays content correctly:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"providers\"], [data-testid=\"providers\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/_lib/providers.cy.tsx:58:76)\n\n  3) providers\n       Core Functionality\n         handles props correctly:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"providers\"], [data-testid=\"providers\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/_lib/providers.cy.tsx:81:76)\n\n  4) providers\n       Accessibility\n         meets basic accessibility standards:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `button, input, [tabindex], [role=\"button\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/_lib/providers.cy.tsx:104:16)\n\n  5) providers\n       Accessibility\n         supports keyboard navigation:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `focused`, but never found it.\n      at Context.eval (webpack-internal:///./app/_lib/providers.cy.tsx:134:26)\n\n  6) providers\n       Responsive Design\n         adapts to different screen sizes:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"providers\"], [data-testid=\"providers\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/_lib/providers.cy.tsx:164:76)\n\n  7) providers\n       Integration\n         works within parent containers:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"providers\"], [data-testid=\"providers\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/_lib/providers.cy.tsx:203:80)\n      at withinFn (http://localhost:8080/__cypress/runner/cypress_runner.js:135903:8)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:135984:16)\n      at __WEBPACK_DEFAULT_EXPORT__ (http://localhost:8080/__cypress/runner/cypress_runner.js:133819:10)\n      at Context.within (http://localhost:8080/__cypress/runner/cypress_runner.js:135970:67)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n\n\n\n15 assets\n969 modules\n\n\u001b[1m\u001b[31mERROR\u001b[39m\u001b[22m in \u001b[1m./app/components/auth/AuthErrorHandler.cy.tsx\u001b[39m\u001b[22m\nModule build failed (from ./node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   \u001b[31mx\u001b[0m Expected '}', got '<eof>'\n     ,-[\u001b[36;1;4m/Users/dean/code/Herit/app/components/auth/AuthErrorHandler.cy.tsx\u001b[0m:131:1]\n \u001b[2m128\u001b[0m |       });\n \u001b[2m129\u001b[0m |     });\n \u001b[2m130\u001b[0m |   });\n \u001b[2m131\u001b[0m | });\n     : \u001b[35;1m ^\u001b[0m\n     `----\n  \u001b[31mx\u001b[0m Unexpected eof\n     ,-[\u001b[36;1;4m/Users/dean/code/Herit/app/components/auth/AuthErrorHandler.cy.tsx\u001b[0m:131:5]\n \u001b[2m129\u001b[0m |     });\n \u001b[2m130\u001b[0m |   });\n \u001b[2m131\u001b[0m | });\n     `----\n\n\nCaused by:\n    Syntax Error\n\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled with \u001b[1m\u001b[31m1 error\u001b[39m\u001b[22m in 193 ms\n\n\n  (Attempt 1 of 2) An uncaught error was detected outside of a test\n  1) An uncaught error was detected outside of a test\n\n  0 passing (27ms)\n  1 failing\n\n  1) An uncaught error was detected outside of a test:\n     Error: The following error originated from your test code, not from Cypress.\n\n  > Module build failed (from ./node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   x Expected '}', got '<eof>'\n     ,-[/Users/dean/code/Herit/app/components/auth/AuthErrorHandler.cy.tsx:131:1]\n 128 |       });\n 129 |     });\n 130 |   });\n 131 | });\n     :  ^\n     `----\n  x Unexpected eof\n     ,-[/Users/dean/code/Herit/app/components/auth/AuthErrorHandler.cy.tsx:131:5]\n 129 |     });\n 130 |   });\n 131 | });\n     `----\n\nCaused by:\n    Syntax Error\n\nWhen Cypress detects uncaught errors originating from your test code it will automatically fail the current test.\n\nCypress could not associate this error to any specific test.\n\nWe dynamically generated a new test to display this failure.\n      at ./app/components/auth/AuthErrorHandler.cy.tsx (http://localhost:8080/__cypress/src/spec-0.js:17:7)\n      at __webpack_require__ (http://localhost:8080/__cypress/src/webpack.js:25:43)\n      at __webpack_require__.t (http://localhost:8080/__cypress/src/webpack.js:97:38)\n\n\n\n18 assets\n1269 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 335 ms\n\n\n  EmailLoginForm\n    Core Functionality\n      (Attempt 1 of 3) renders without crashing\n      (Attempt 2 of 3) renders without crashing\n      1) renders without crashing\nwrite EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:971:11)\n    at Socket._write (node:net:983:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at execSync (node:child_process:967:20)\n    at node:electron/js2c/node_init:2:17313\n    at <embedded>:1245:1069694\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\n[20296:0905/123235.786564:ERROR:electron/shell/common/node_bindings.cc:411] Most NODE_OPTIONs are not supported in packaged apps. See documentation for more details.\n[20296:0905/123235.786590:ERROR:electron/shell/common/node_bindings.cc:411] Most NODE_OPTIONs are not supported in packaged apps. See documentation for more details.\n\nDevTools listening on ws://127.0.0.1:60739/devtools/browser/9af1a2eb-6058-4501-a68f-67b762e7f443\n<<<CYPRESS.STDERR.START>>><i> [webpack-dev-server] Project is running at:\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-server] Loopback: \u001b[36mhttp://127.0.0.1:8080/\u001b[39m\n<i> [webpack-dev-server] Content not from webpack is served from '\u001b[36m/Users/dean/code/Herit/public\u001b[39m' directory\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/index.html\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/index.html\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/webpack.js\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/main.js\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/index.html\n<<<CYPRESS.STDERR.END>>>",
      "startTime": 1757071954967,
      "endTime": 1757072135465,
      "duration": 180498,
      "total": 6,
      "passed": 6,
      "failed": 0,
      "skipped": 0,
      "passRate": 100,
      "progress": 100,
      "error": "Process was terminated (SIGTERM) due to timeout",
      "individualTests": {
        "total": 6,
        "passed": 6,
        "failed": 0,
        "skipped": 0,
        "passRate": 100,
        "progress": 100
      }
    },
    "componentTestsCore": {
      "command": "npm run test:ct:core",
      "status": "failed",
      "output": "\n> herit@0.1.0 test:ct:core\n> cypress run --component --config video=false,screenshotOnRunFailure=false --quiet --spec 'app/components/beneficiaries/**/*.cy.tsx,app/components/documents/**/*.cy.tsx,app/components/shared/**/*.cy.tsx,app/components/dashboard/**/*.cy.tsx,app/(dashboard)/**/*.cy.tsx,app/(auth)/**/*.cy.tsx,components/**/*.cy.tsx'\n\n18 assets\n1439 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 1057 ms\n18 assets\n1439 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 74 ms\n\n\n  BeneficiaryCard\n    Core Functionality\n      (Attempt 1 of 2) renders without crashing\n      1) renders without crashing\n      ✓ displays beneficiary name (32ms)\n      ✓ displays beneficiary email (26ms)\n      ✓ displays relationship type (26ms)\n      (Attempt 1 of 2) shows menu dropdown\n      2) shows menu dropdown\n\n\n  3 passing (16s)\n  2 failing\n\n  1) BeneficiaryCard\n       Core Functionality\n         renders without crashing:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-cy=\"beneficiary-card\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryCard.cy.tsx:44:52)\n\n  2) BeneficiaryCard\n       Core Functionality\n         shows menu dropdown:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `button[aria-haspopup=\"menu\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryCard.cy.tsx:84:52)\n\n\n\n18 assets\n1574 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 505 ms\n\n\n  BeneficiaryForm\n    Core Functionality\n      (Attempt 1 of 3) renders without crashing\n      (Attempt 2 of 3) renders without crashing\n      1) renders without crashing\n      (Attempt 1 of 3) responds to user interactions\n      (Attempt 2 of 3) responds to user interactions\n      2) responds to user interactions\n    Error Handling\n      (Attempt 1 of 3) shows validation errors\n      (Attempt 2 of 3) shows validation errors\n      3) shows validation errors\n    Accessibility\n      (Attempt 1 of 3) meets basic accessibility standards\n      (Attempt 2 of 3) meets basic accessibility standards\n      4) meets basic accessibility standards\n      (Attempt 1 of 3) supports keyboard navigation\n      (Attempt 2 of 3) supports keyboard navigation\n      5) supports keyboard navigation\n    User Interactions\n      (Attempt 1 of 3) handles click events\n      (Attempt 2 of 3) handles click events\n      6) handles click events\n    Responsive Design\n      (Attempt 1 of 3) adapts to different screen sizes\n      (Attempt 2 of 3) adapts to different screen sizes\n      7) adapts to different screen sizes\n    Integration\n      (Attempt 1 of 3) works within parent containers\n      (Attempt 2 of 3) works within parent containers\n      8) works within parent containers\n\n\n  0 passing (2m)\n  8 failing\n\n  1) BeneficiaryForm\n       Core Functionality\n         renders without crashing:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"beneficiary-button\"], [data-testid=\"beneficiaryform\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryForm.cy.tsx:65:95)\n      at getRet (http://localhost:8080/__cypress/runner/cypress_runner.js:120768:20)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise.attempt.Promise.try (http://localhost:8080/__cypress/runner/cypress_runner.js:4285:29)\n      at Context.thenFn (http://localhost:8080/__cypress/runner/cypress_runner.js:120779:66)\n      at Context.then (http://localhost:8080/__cypress/runner/cypress_runner.js:121030:21)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n\n  2) BeneficiaryForm\n       Core Functionality\n         responds to user interactions:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"beneficiary-button\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryForm.cy.tsx:94:16)\n\n  3) BeneficiaryForm\n       Error Handling\n         shows validation errors:\n     CypressError: Timed out retrying after 4050ms: `cy.click()` failed because this element is `disabled`:\n\n`<button data-disabled=\"true\" data-loading=\"true\" type=\"submit\" disabled=\"\" data-react-aria-pressable=\"true\" data-component-category=\"input\" data-testid=\"beneficiary-submit\" class=\"z-0 group relative inline-flex items-center justify-center box-border appearance-none select-none whitespace-nowrap font-normal subpixel-antialiased overflow-hidden tap-highlight-transparent transform-gpu data-[pressed=true]:scale-[0.97] cursor-pointer outline-solid outline-transparent data-[focus-visible=true]:z-10 data-[focus-visible=true]:outline-2 data-[focus-visible=true]:outline-focus data-[focus-visible=true]:outline-offset-2 px-4 min-w-20 h-10 text-small gap-2 rounded-medium opacity-disabled pointer-events-none [&amp;>svg]:max-w-[theme(spacing.8)] transition-transform-colors-opacity motion-reduce:transition-none bg-primary text-primary-foreground data-[hover=true]:opacity-hover\">...</button>`\n\nFix this problem, or use `{force: true}` to disable error checking.\n\nhttps://on.cypress.io/element-cannot-be-interacted-with\n      at Object.isNotDisabled (http://localhost:8080/__cypress/runner/cypress_runner.js:148421:58)\n      at runAllChecks (http://localhost:8080/__cypress/runner/cypress_runner.js:114522:26)\n      at retryActionability (http://localhost:8080/__cypress/runner/cypress_runner.js:114611:16)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise.attempt.Promise.try (http://localhost:8080/__cypress/runner/cypress_runner.js:4285:29)\n      at whenStable (http://localhost:8080/__cypress/runner/cypress_runner.js:147282:68)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147223:14)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromise0 (http://localhost:8080/__cypress/runner/cypress_runner.js:1591:10)\n      at Promise._settlePromises (http://localhost:8080/__cypress/runner/cypress_runner.js:1671:18)\n      at Promise._fulfill (http://localhost:8080/__cypress/runner/cypress_runner.js:1615:18)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:5420:46)\n\n  4) BeneficiaryForm\n       Accessibility\n         meets basic accessibility standards:\n\n      Timed out retrying after 4000ms\n      + expected - actual\n\n\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryForm.cy.tsx:147:43)\n      at getRet (http://localhost:8080/__cypress/runner/cypress_runner.js:120768:20)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise.attempt.Promise.try (http://localhost:8080/__cypress/runner/cypress_runner.js:4285:29)\n      at Context.thenFn (http://localhost:8080/__cypress/runner/cypress_runner.js:120779:66)\n      at Context.then (http://localhost:8080/__cypress/runner/cypress_runner.js:121030:21)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n\n  5) BeneficiaryForm\n       Accessibility\n         supports keyboard navigation:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `focused`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryForm.cy.tsx:175:26)\n\n  6) BeneficiaryForm\n       User Interactions\n         handles click events:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"beneficiary-button\"], [data-testid=\"beneficiaryform\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryForm.cy.tsx:206:91)\n\n  7) BeneficiaryForm\n       Responsive Design\n         adapts to different screen sizes:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"beneficiary-button\"], [data-testid=\"beneficiaryform\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryForm.cy.tsx:230:91)\n\n  8) BeneficiaryForm\n       Integration\n         works within parent containers:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `[data-testid=\"beneficiary-button\"], [data-testid=\"beneficiaryform\"]`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryForm.cy.tsx:269:95)\n      at withinFn (http://localhost:8080/__cypress/runner/cypress_runner.js:135903:8)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:135984:16)\n      at __WEBPACK_DEFAULT_EXPORT__ (http://localhost:8080/__cypress/runner/cypress_runner.js:133819:10)\n      at Context.within (http://localhost:8080/__cypress/runner/cypress_runner.js:135970:67)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n\n\n\n18 assets\n1654 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 366 ms\n\n\n  BeneficiaryList\n    Core Functionality\n      ✓ renders without crashing (62ms)\n      (Attempt 1 of 3) responds to user interactions\n      (Attempt 2 of 3) responds to user interactions\n      1) responds to user interactions\n    Accessibility\n      ✓ meets basic accessibility standards (26ms)\n      (Attempt 1 of 3) supports keyboard navigation\n      (Attempt 2 of 3) supports keyboard navigation\n      2) supports keyboard navigation\n    User Interactions\n      ✓ handles click events (133ms)\n    Responsive Design\n      ✓ adapts to different screen sizes (35ms)\n    Integration\n      ✓ works within parent containers (30ms)\n\n\n  5 passing (13s)\n  2 failing\n\n  1) BeneficiaryList\n       Core Functionality\n         responds to user interactions:\n     CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n      at mouseAction (http://localhost:8080/__cypress/runner/cypress_runner.js:113780:68)\n      at Context.click (http://localhost:8080/__cypress/runner/cypress_runner.js:113947:14)\n      at wrapped (http://localhost:8080/__cypress/runner/cypress_runner.js:141618:19)\n      at <unknown> (http://localhost:8080/__cypress/runner/cypress_runner.js:147554:15)\n      at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n      at Promise._settlePromiseFromHandler (http://localhost:8080/__cypress/runner/cypress_runner.js:1489:31)\n      at Promise._settlePromise (http://localhost:8080/__cypress/runner/cypress_runner.js:1546:18)\n      at Promise._settlePromiseCtx (http://localhost:8080/__cypress/runner/cypress_runner.js:1583:10)\n      at _drainQueueStep (http://localhost:8080/__cypress/runner/cypress_runner.js:2381:12)\n      at _drainQueue (http://localhost:8080/__cypress/runner/cypress_runner.js:2370:9)\n      at Async._drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2386:5)\n      at Async.drainQueues (http://localhost:8080/__cypress/runner/cypress_runner.js:2256:14)\n\n  2) BeneficiaryList\n       Accessibility\n         supports keyboard navigation:\n     AssertionError: Timed out retrying after 4000ms: Expected to find element: `focused`, but never found it.\n      at Context.eval (webpack-internal:///./app/components/beneficiaries/BeneficiaryList.cy.tsx:124:26)\n\n\n\n18 assets\n1175 modules\n\u001b[1mclient\u001b[39m\u001b[22m (webpack 5.98.0) compiled \u001b[1m\u001b[32msuccessfully\u001b[39m\u001b[22m in 173 ms\n\n\n  BeneficiaryPhotoInput\n    Core Functionality\n      (Attempt 1 of 3) renders without crashing\n      (Attempt 2 of 3) renders without crashing\n      1) renders without crashing\n      (Attempt 1 of 3) responds to user interactions\n      (Attempt 2 of 3) responds to user interactions\n      2) responds to user interactions\n    Accessibility\n      (Attempt 1 of 3) meets basic accessibility standards\n      (Attempt 2 of 3) meets basic accessibility standards\n      3) meets basic accessibility standards\n      (Attempt 1 of 3) supports keyboard navigation\n      (Attempt 2 of 3) supports keyboard navigation\nwrite EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:971:11)\n    at Socket._write (node:net:983:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at execSync (node:child_process:967:20)\n    at node:electron/js2c/node_init:2:17313\n    at <embedded>:1245:1069694\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)\n[25818:0905/123536.097250:ERROR:electron/shell/common/node_bindings.cc:411] Most NODE_OPTIONs are not supported in packaged apps. See documentation for more details.\n[25818:0905/123536.097264:ERROR:electron/shell/common/node_bindings.cc:411] Most NODE_OPTIONs are not supported in packaged apps. See documentation for more details.\n\nDevTools listening on ws://127.0.0.1:61535/devtools/browser/ea4c68f3-4206-44da-8b27-efee29d7808b\n<<<CYPRESS.STDERR.START>>><i> [webpack-dev-server] Project is running at:\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-server] Loopback: \u001b[36mhttp://127.0.0.1:8080/\u001b[39m\n<i> [webpack-dev-server] Content not from webpack is served from '\u001b[36m/Users/dean/code/Herit/public\u001b[39m' directory\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/index.html\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/webpack.js\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/index.html\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/index.html\n<<<CYPRESS.STDERR.END>>><<<CYPRESS.STDERR.START>>><i> [webpack-dev-middleware] wait until bundle finished: /__cypress/src/index.html\n<<<CYPRESS.STDERR.END>>>",
      "startTime": 1757072135732,
      "endTime": 1757072316101,
      "duration": 180369,
      "total": 3,
      "passed": 3,
      "failed": 0,
      "skipped": 0,
      "passRate": 100,
      "progress": 100,
      "error": "Process was terminated (SIGTERM) due to timeout",
      "individualTests": {
        "total": 3,
        "passed": 3,
        "failed": 0,
        "skipped": 0,
        "passRate": 100,
        "progress": 100
      }
    }
  },
  "overall": {
    "total": 0,
    "passed": 0,
    "failed": 0,
    "skipped": 0,
    "passRate": 0
  },
  "testCounts": {
    "componentTests": {
      "total": 369,
      "files": 46,
      "fileDetails": {
        "components/TestStatusDashboard.cy.tsx": 7,
        "app/_lib/providers.cy.tsx": 7,
        "app/_lib/error.cy.tsx": 32,
        "app/_lib/QueryProvider.cy.tsx": 6,
        "cypress/component/integration/onboarding-flow.cy.tsx": 10,
        "app/components/ui/theme-switch.cy.tsx": 4,
        "app/components/ui/icons.cy.tsx": 7,
        "app/components/ui/VerticalSteps.cy.tsx": 5,
        "app/components/ui/ErrorBoundary.cy.tsx": 7,
        "app/components/examples/counter.cy.tsx": 7,
        "app/components/pages/HomePageClient.cy.tsx": 6,
        "app/components/shared/SharedPhotoUpload.cy.tsx": 7,
        "app/components/shared/SharedPersonalInfoFormProvider.cy.tsx": 8,
        "app/components/shared/SharedPersonalInfoForm.cy.tsx": 8,
        "app/components/shared/DependencyInjectionExample.cy.tsx": 7,
        "app/components/layout/navbar.cy.tsx": 6,
        "app/components/layout/navbar-user-menu.cy.tsx": 14,
        "app/components/layout/LayoutWrapper.cy.tsx": 6,
        "app/components/documents/DocumentUploadZone.cy.tsx": 7,
        "app/components/documents/DocumentManager.cy.tsx": 7,
        "app/components/branding/HeritLogo.cy.tsx": 7,
        "app/components/dashboard/DashboardLayout.cy.tsx": 5,
        "app/components/auth/SignatureCanvas.cy.tsx": 5,
        "app/components/auth/ProtectedRoute.cy.tsx": 8,
        "app/components/auth/LoginForm.cy.tsx": 7,
        "app/components/auth/LoginForm-enhanced.cy.tsx": 23,
        "app/components/auth/GoogleSignInButton.cy.tsx": 3,
        "app/components/auth/EmailSignupForm.cy.tsx": 8,
        "app/components/auth/EmailLoginForm.cy.tsx": 7,
        "app/components/auth/AuthErrorHandler.cy.tsx": 5,
        "app/components/beneficiaries/BeneficiaryPhotoInput.cy.tsx": 7,
        "app/components/beneficiaries/BeneficiaryList.cy.tsx": 7,
        "app/components/beneficiaries/BeneficiaryForm.cy.tsx": 8,
        "app/components/beneficiaries/BeneficiaryCard.cy.tsx": 5,
        "app/(dashboard)/will/WillClient.cy.tsx": 8,
        "app/(dashboard)/dashboard/DashboardClient.cy.tsx": 6,
        "app/(auth)/onboarding/components/VerificationStep.cy.tsx": 5,
        "app/(auth)/onboarding/components/SignatureStep.cy.tsx": 7,
        "app/(auth)/onboarding/components/SignatureStamp.cy.tsx": 7,
        "app/(auth)/onboarding/components/SignatureStamp-optimized.cy.tsx": 16,
        "app/(auth)/onboarding/components/PersonalInfoStep.cy.tsx": 8,
        "app/(auth)/onboarding/components/LegalConsentStep.cy.tsx": 7,
        "app/(dashboard)/rules/components/ViewRuleModal.cy.tsx": 7,
        "app/(dashboard)/rules/components/RuleConditionsDisplay.cy.tsx": 7,
        "app/(dashboard)/rules/components/EditRuleModal.cy.tsx": 9,
        "app/(dashboard)/rules/components/CreateRuleModal.cy.tsx": 9
      }
    },
    "backendTests": {
      "total": 445,
      "files": 39,
      "fileDetails": {
        "tests/api/will/will.test.ts": 10,
        "tests/api/test-db/test-db.test.ts": 12,
        "tests/api/health/health.test.ts": 12,
        "tests/api/debug-user/debug-user.test.ts": 10,
        "tests/api/beneficiaries/beneficiaries.test.ts": 10,
        "tests/api/rules/rules.test.ts": 10,
        "tests/api/assets/assets.test.ts": 21,
        "tests/api/will/status/status.test.ts": 10,
        "tests/api/onboarding/verification/verification.test.ts": 10,
        "tests/api/onboarding/status/status.test.ts": 10,
        "tests/api/onboarding/save-step/save-step.test.ts": 23,
        "tests/api/onboarding/photo/photo.test.ts": 10,
        "tests/api/onboarding/personal-info/personal-info.test.ts": 25,
        "tests/api/onboarding/signature/signature.test.ts": 10,
        "tests/api/onboarding/consent-signature/consent-signature.test.ts": 10,
        "tests/api/onboarding/complete/complete.test.ts": 10,
        "tests/api/onboarding/legal-consent/legal-consent.test.ts": 10,
        "tests/api/documents/[id]/[id].test.ts": 10,
        "tests/api/debug/verification/verification.test.ts": 10,
        "tests/api/beneficiaries/photo/photo.test.ts": 12,
        "tests/api/beneficiaries/[id]/[id].test.ts": 11,
        "tests/api/audit/log-event/log-event.test.ts": 9,
        "tests/api/beneficiaries/count/count.test.ts": 10,
        "tests/api/auth/session/session.test.ts": 21,
        "tests/api/auth/refresh/refresh.test.ts": 10,
        "tests/api/auth/register/register.test.ts": 10,
        "tests/api/auth/logout/logout.test.ts": 9,
        "tests/api/auth/google/google.test.ts": 10,
        "tests/api/auth/login/login.test.ts": 10,
        "tests/api/auth/create-test-user/create-test-user.test.ts": 10,
        "tests/api/stripe/webhook/webhook.test.ts": 9,
        "tests/api/rules/validate-allocation/validate-allocation.test.ts": 10,
        "tests/api/rules/[id]/[id].test.ts": 11,
        "tests/api/assets/categories/categories.test.ts": 10,
        "tests/api/assets/[id]/[id].test.ts": 11,
        "tests/api/onboarding/verification/sync/sync.test.ts": 10,
        "tests/api/documents/requirements/[type]/[type].test.ts": 10,
        "tests/api/auth/google/callback/callback.test.ts": 10,
        "tests/api/assets/[id]/documents/documents.test.ts": 9
      }
    },
    "totalTests": 814,
    "totalFiles": 85,
    "lastScan": "2025-09-05T11:32:05.672Z",
    "scanDuration": 60
  },
  "individualTests": {
    "total": 456,
    "passed": 456,
    "failed": 0,
    "skipped": 0,
    "passRate": 100,
    "progress": 100
  }
}